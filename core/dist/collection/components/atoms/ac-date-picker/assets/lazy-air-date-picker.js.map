{"version":3,"file":"lazy-air-date-picker.js","sourceRoot":"","sources":["../../../../../src/components/atoms/ac-date-picker/assets/lazy-air-date-picker.tsx"],"names":[],"mappings":"AAAA,OAAO,UAAU,MAAM,qBAAqB,CAAC;AAC7C,MAAM,OAAO,iBAAiB;EAK5B,YAAY,SAAiC,EAAE,MAAW;IAHlD,aAAQ,GAAU,EAAE,CAAC;IAI3B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACvD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACjD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACvD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC/C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACjD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAEjD,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,EAAE;MACzB,MAAM,CAAC,GAAI,MAAc,CAAC,MAAM,CAAC;MACjC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;MACtB,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;MAC9B,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,MAAM,SAAS,CAAC,cAAc,EAAE,CAAC;SAC/C,UAAU,CAAC,MAAM,CAAC;SAClB,IAAI,CAAC,YAAY,CAAC,CAAC;MACpB,IAAI,CAAC,QAAQ;SACV,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;MACjC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;IAC7B,CAAC,CAAC,CAAC;EACL,CAAC;EAED,UAAU,CAAC,IAAU;IACnB,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;EAChC,CAAC;EAED,IAAI;IACF,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;EACtB,CAAC;EAED,IAAI;IACF,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;EACtB,CAAC;EAED,OAAO;IACL,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;EACzB,CAAC;EAED,IAAI;IACF,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;EACtB,CAAC;EAED,IAAI;IACF,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;EACtB,CAAC;EAED,UAAU,CAAC,IAAU;IACnB,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;EAChC,CAAC;EAED,KAAK;IACH,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;EACvB,CAAC;EAED,MAAM,CAAC,KAAa,EAAE,KAAU;IAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;EAClC,CAAC;EAED,OAAO,CAAC,IAAY;IAClB,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;EAC3B,CAAC;EAED,OAAO,CAAC,IAAU;IAChB,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;EAC3B,CAAC;EAED,UAAU;IACR,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;EAC1B,CAAC;EAED,gBAAgB;IACd,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;EACpC,CAAC;EAEO,cAAc,CAAC,GAAG;IACxB,OAAO,CAAC,GAAG,IAAI,EAAE,EAAE;MACjB,IAAI,IAAI,CAAC,YAAY,KAAK,UAAU,EAAE;QACpC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;OACjD;WAAM;QACL,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;OACvB;IACH,CAAC,CAAC;EACJ,CAAC;EACO,qBAAqB,CAAC,MAAW;IACvC,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG;MACpC,IAAI,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,CAAC;MACpF,SAAS,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;MAC5D,OAAO,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;MACnD,MAAM,EAAE;QACN,SAAS;QACT,UAAU;QACV,OAAO;QACP,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;QACR,WAAW;QACX,SAAS;QACT,UAAU;QACV,UAAU;OACX;MACD,WAAW,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;MACjG,KAAK,EAAE,OAAO;MACd,KAAK,EAAE,OAAO;MACd,UAAU,EAAE,YAAY;MACxB,UAAU,EAAE,UAAU;MACtB,QAAQ,EAAE,CAAC;KACZ,CAAC;IACF,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG;MACvC,IAAI,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,CAAC;MAC5E,SAAS,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;MAC5D,OAAO,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;MACnD,2CAA2C;MAC3C,MAAM,EAAE,CAAC,SAAS,EAAE,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,CAAC;MACrI,WAAW,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;MACjG,KAAK,EAAE,MAAM;MACb,KAAK,EAAE,QAAQ;MACf,UAAU,EAAE,YAAY;MACxB,UAAU,EAAE,OAAO;MACnB,QAAQ,EAAE,CAAC;KACZ,CAAC;EACJ,CAAC;EAED;;;;KAIG;EACK,UAAU,CAAC,QAAoB;IACrC,MAAM,MAAM,GAAI,MAAc,CAAC,MAAM,CAAC;IACtC,MAAM,eAAe,GAAG,GAAG,EAAE;MAC3B,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC;MAC5B,QAAQ,EAAE,CAAC;IACb,CAAC,CAAC;IACF,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC;IAC/B,IAAI,CAAC,MAAM,EAAE;MACX,MAAM,IAAI,GAAG,6CAA6C,CAAC;MAE3D,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;MACjD,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,iBAAiB,CAAC,CAAC;MAChD,OAAO,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;MAClC,OAAO,CAAC,MAAM,GAAG,eAAe,CAAC;MAChC,OAAe,CAAC,kBAAkB,GAAG,eAAe,CAAC;MACtD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;KACpC;SAAM;MACL,eAAe,EAAE,CAAC;KACnB;EACH,CAAC;CACF","sourcesContent":["import DatePicker from './air-datepicker.js';\r\nexport class LazyAirDatePicker {\r\n  private statusPicker: 'pendinng' | 'ready'; \r\n  private commands: any[] = [];\r\n  private _picker: any;\r\n  \r\n  constructor(baseInput: HTMLAcInputBaseElement, config: any) {\r\n    this.selectDate = this.wrapperCommand(this.selectDate);\r\n    this.show = this.wrapperCommand(this.show);\r\n    this.hide = this.wrapperCommand(this.hide);\r\n    this.destroy = this.wrapperCommand(this.destroy);\r\n    this.next = this.wrapperCommand(this.next);\r\n    this.prev = this.wrapperCommand(this.prev);\r\n    this.removeDate = this.wrapperCommand(this.removeDate);\r\n    this.clear = this.wrapperCommand(this.clear);\r\n    this.update = this.wrapperCommand(this.update);\r\n    this.setView = this.wrapperCommand(this.setView);\r\n    this.setDate = this.wrapperCommand(this.setDate);\r\n\r\n    this.loadjQuery(async () => {\r\n      const $ = (window as any).jQuery;\r\n      DatePicker(window, $);\r\n      this.addEnglishTranslation($);\r\n      this._picker = $(await baseInput.getNativeInput())\r\n        .datepicker(config)\r\n        .data('datepicker');\r\n        this.commands\r\n          .forEach(command => command());\r\n        this.commands.length = 0;\r\n    });\r\n  }\r\n\r\n  selectDate(date: Date) {\r\n    this._picker.selectDate(date);\r\n  }\r\n\r\n  show() {\r\n    this._picker.show();\r\n  }\r\n\r\n  hide() {\r\n    this._picker.hide();\r\n  }\r\n\r\n  destroy() {\r\n    this._picker.destroy();\r\n  }\r\n\r\n  next() {\r\n    this._picker.next();\r\n  }\r\n\r\n  prev() {\r\n    this._picker.prev();\r\n  }\r\n  \r\n  removeDate(date: Date) {\r\n    this._picker.removeDate(date);\r\n  }\r\n\r\n  clear() {\r\n    this._picker.clear();\r\n  }\r\n\r\n  update(field: string, value: any) {\r\n    this._picker.show(field, value);\r\n  }\r\n\r\n  setView(view: string) {\r\n    this._picker.view = view;\r\n  }\r\n  \r\n  setDate(date: Date) {\r\n    this._picker.date = date;\r\n  }\r\n\r\n  getElement(): Promise<HTMLElement> {\r\n    return this._picker.$el;\r\n  }\r\n\r\n  getSelectedDates(): Promise<Date[]> {\r\n    return this._picker.selectedDates;\r\n  }\r\n\r\n  private wrapperCommand(cmd) {\r\n    return (...args) => {\r\n      if (this.statusPicker === 'pendinng') {\r\n        this.commands.push(() => cmd.apply(this, args));\r\n      } else {\r\n        cmd.apply(this, args);\r\n      }\r\n    };\r\n  }\r\n  private addEnglishTranslation(jQuery: any) {\r\n    jQuery.fn.datepicker.language['en'] = {\r\n      days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\r\n      daysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\r\n      daysMin: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\r\n      months: [\r\n        'January',\r\n        'February',\r\n        'March',\r\n        'April',\r\n        'May',\r\n        'June',\r\n        'July',\r\n        'August',\r\n        'September',\r\n        'October',\r\n        'November',\r\n        'December'\r\n      ],\r\n      monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n      today: 'Today',\r\n      clear: 'Clear',\r\n      dateFormat: 'mm/dd/yyyy',\r\n      timeFormat: 'hh:ii aa',\r\n      firstDay: 0\r\n    };\r\n    jQuery.fn.datepicker.language['pt-BR'] = {\r\n      days: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],\r\n      daysShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sab'],\r\n      daysMin: ['Do', 'Se', 'Te', 'Qu', 'Qu', 'Se', 'Sa'],\r\n      // tslint:disable-next-line:max-line-length\r\n      months: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\r\n      monthsShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],\r\n      today: 'Hoje',\r\n      clear: 'Limpar',\r\n      dateFormat: 'dd/mm/yyyy',\r\n      timeFormat: 'hh:ii',\r\n      firstDay: 0\r\n    };\r\n  }\r\n \r\n  /**\r\n   * I dynamically load jQuery into application if it's not yet defined inside global\r\n   * scope. This eliminates an extra step if you don't have jQuery already and if you\r\n   * do we will just use yours.\r\n   */\r\n  private loadjQuery(callback: () => void) {\r\n    const jQuery = (window as any).jQuery;\r\n    const wrapperCallback = () => {\r\n      this.statusPicker = \"ready\";\r\n      callback();\r\n    };\r\n    this.statusPicker = \"pendinng\";\r\n    if (!jQuery) {\r\n      const link = 'https://code.jquery.com/jquery-3.3.1.min.js';\r\n\r\n      const element = document.createElement('script');\r\n      element.setAttribute('type', 'text/javascript');\r\n      element.setAttribute('src', link);\r\n      element.onload = wrapperCallback;\r\n      (element as any).onreadystatechange = wrapperCallback;\r\n      document.head.appendChild(element);\r\n    } else {\r\n      wrapperCallback();\r\n    }\r\n  }\r\n}\r\n"]}