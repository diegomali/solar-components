{"version":3,"file":"extend-method.js","sourceRoot":"","sources":["../../../src/utils/lang/extend-method.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AACH,MAAM,UAAU,YAAY,CAAC,MAAW,EAAE,MAAc,EAAE,MAAiD;EACzG,MAAM,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;EAEhC,MAAM,CAAC,IAAI,GAAG,MAAM,GAAG,cAAc,CAAC,GAAG,MAAM,CAAC,IAAI,GAAG,MAAM,GAAG,WAAW,CAAC,IAAI,EAAE,CAAC;EACnF,MAAM,SAAS,GAAG,MAAM,CAAC,IAAI,GAAG,MAAM,GAAG,cAAc,CAAC,CAAC;EAEzD,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAEvB,MAAM,CAAC,MAAM,CAAC,GAAG,UAAS,GAAG,IAAI;IAC/B,IAAI,UAAU,CAAC;IACf,KAAK,MAAM,KAAK,IAAI,SAAS,EAAE;MAC7B,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KAC5E;IACD,OAAO,UAAU,CAAC;EACpB,CAAC,CAAC;AACJ,CAAC","sourcesContent":["/**\r\n * Extend a method functionality, applying monkeypatch method.\r\n * @link https://www.audero.it/blog/2016/12/05/monkey-patching-javascript/\r\n * @param target The target object.\r\n * @param method The name of the method that will be extended.\r\n * @param extend The method's patch.\r\n */\r\nexport function extendMethod(target: any, method: string, extend: (original: Function, args?: any[]) => any) {\r\n  const original = target[method];\r\n\r\n  target['__' + method + '__patch_list'] = target['__' + method + '__patches'] || [];\r\n  const patchList = target['__' + method + '__patch_list'];\r\n\r\n  patchList.push(extend);\r\n\r\n  target[method] = function(...args) {\r\n    let lastResult;\r\n    for (const patch of patchList) {\r\n      lastResult = patch.bind(this)(original ? original.bind(this) : null, args);\r\n    }\r\n    return lastResult;\r\n  };\r\n}\r\n"]}