{"version":3,"file":"popper-behavior.js","sourceRoot":"","sources":["../../src/behaviors/popper-behavior.ts"],"names":[],"mappings":"AAAA,OAAO,MAAM,MAAM,WAAW,CAAC;AAE/B,OAAO,EAAiB,iBAAiB,EAAE,MAAM,qCAAqC,CAAC;AAEvF;;;GAGG;AACH,MAAM,OAAO,cAAe,SAAQ,iBAAkC;EAMpE,MAAM;IACJ,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;IAEvC,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;MAC7B,0BAA0B;MAC1B,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;KACxC;IAED,IAAI,KAAK,EAAE;MACT,IAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CACtB,KAAK,EACL,IAAI,CAAC,SAAS,CAAC,YAAY,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,CACjF,CAAC;KACH;EACH,CAAC;EAED,MAAM;IACJ,IAAI,IAAI,CAAC,MAAM,EAAE;MAAE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;KAAE;EAC7C,CAAC;CACF","sourcesContent":["import Popper from 'popper.js';\r\n\r\nimport { ComponentBase, ComponentBehavior } from '../utils/stencil/component-behavior';\r\n\r\n/**\r\n * Implements the Popper.js logic in the component, useful to build tooltips and another floating elements.\r\n * @link https://popper.js.org/popper-documentation.html.\r\n */\r\nexport class PopperBehavior extends ComponentBehavior<PopperComponent> {\r\n  /**\r\n   * Internal popper instance.\r\n   */\r\n  popper: Popper;\r\n\r\n  attach() {\r\n    let pivot = this.component.popperPivot;\r\n\r\n    if (typeof pivot === 'string') {\r\n      // Pivot is an element id.\r\n      pivot = document.getElementById(pivot);\r\n    }\r\n\r\n    if (pivot) {\r\n      this.popper = new Popper(\r\n        pivot,\r\n        this.component.popperTarget || this.component.host, this.component.popperOptions\r\n      );\r\n    }\r\n  }\r\n\r\n  detach() {\r\n    if (this.popper) { this.popper.destroy(); }\r\n  }\r\n}\r\n\r\n/**\r\n * Represents a component that implements the Popper logic.\r\n */\r\nexport interface PopperComponent extends ComponentBase {\r\n  /**\r\n   * The behavior instance.\r\n   */\r\n  popperBehavior: PopperBehavior;\r\n\r\n  /**\r\n   * A custom target to use instead of component's host.\r\n   */\r\n  popperTarget?: HTMLElement;\r\n\r\n  /**\r\n   * Pivot element used to place the popper.\r\n   */\r\n  popperPivot: HTMLElement | string;\r\n\r\n  /**\r\n   * Popper.js's placement.\r\n   * @link https://popper.js.org/popper-documentation.html#Popper.placements\r\n   */\r\n  popperPlacement: Popper.Placement;\r\n\r\n  /**\r\n   * Popper.js's options.\r\n   * @link https://popper.js.org/popper-documentation.html#Popper.placements\r\n   */\r\n  popperOptions: Popper.PopperOptions;\r\n}\r\n"]}