{"version":3,"names":["acLayoutCss","AcLayout","this","focusBehavior","FocusBehavior","collapsedDidUpdate","hasFocus","collapsed","componentDidLoad","focusTarget","host","querySelector","disconnectedCallback","whenBlur","element","console","log","dataset","navdrawer","handleContentScroll","contentScroll","emit","top","contentElt","scrollTop","left","scrollLeft","render","h","Host","class","name","ref","onScroll","__decorate","Bind"],"sources":["./src/components/templates/ac-layout/ac-layout.scss?tag=ac-layout","./src/components/templates/ac-layout/ac-layout.tsx"],"sourcesContent":["@import \"../../../theme/variables\";\r\n\r\n// ---------------------------------------------------------------------------------------------------------------------\r\n// General Style\r\n// ---------------------------------------------------------------------------------------------------------------------\r\n\r\nac-layout {\r\n  display: flex;\r\n  background: var-color(\"neutral\", \"lighter\");\r\n\r\n  .ac-layout__nav-left-container {\r\n    height: 100vh;\r\n    border: 0;\r\n\r\n    ac-navdrawer {\r\n      border-radius: 0 ($border-radius-default * 2) ($border-radius-default * 2) 0;\r\n    }\r\n  }\r\n\r\n  .ac-layout__content-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    height: 100vh;\r\n    overflow: auto;\r\n    transition: filter $default-transition;\r\n    background: var-color(\"neutral\", \"lighter\");\r\n  }\r\n\r\n  .ac-layout__content-scroll {\r\n    position: relative;\r\n  }\r\n\r\n  @include down-md {\r\n    // Fixed header on medium devices\r\n    .ac-layout__content-scroll {\r\n      height: 100%;\r\n      max-height: 100%;\r\n      overflow: auto;\r\n    }\r\n\r\n    .ac-layout__nav-left-container {\r\n      position: absolute;\r\n      z-index: $z-navdrawer;\r\n      transform: translateX(-100%);\r\n      transition: transform $default-transition;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// ---------------------------------------------------------------------------------------------------------------------\r\n// Collapsed Property\r\n// ---------------------------------------------------------------------------------------------------------------------\r\n\r\n// Nav Left Collapsed (collapsed=\"nav-left\")\r\n// ---------------------------------------------------------\r\n\r\nac-layout.ac-layout--nav-left-collapsed {\r\n  @include down-md {\r\n    .ac-layout__nav-left-container {\r\n      position: absolute;\r\n      transform: translateX(0);\r\n    }\r\n    .ac-layout__content-container {\r\n      filter: brightness(0.4);\r\n    }\r\n\r\n    ac-navdrawer {\r\n        box-shadow: $z3-shadow--left;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// Layout Content's Scrollbar theming\r\n// ---------------------------------------------------------\r\n\r\n@include scrollbar(\"ac-layout .ac-layout__content-container\");\r\n@include scrollbar(\"ac-layout .ac-layout__content-scroll\");\r\n","import { Component, Element, Event, EventEmitter, Host, Listen, Prop, Watch, h } from '@stencil/core';\r\n\r\nimport { FocusBehavior, FocusableComponent } from '../../../behaviors/focus-behavior';\r\nimport { Bind } from '../../../utils/lang/bind';\r\n\r\n/**\r\n * Accera's layout webcomponent.\r\n */\r\n@Component({\r\n  tag: 'ac-layout',\r\n  styleUrl: 'ac-layout.scss',\r\n  shadow: false\r\n})\r\nexport class AcLayout implements FocusableComponent {\r\n  @Element() host: HTMLAcLayoutElement;\r\n\r\n  contentElt: HTMLElement;\r\n  focusBehavior = new FocusBehavior(this);\r\n  focusTarget: HTMLElement;\r\n  hasFocus: boolean;\r\n\r\n  /**\r\n   * Collapse a nav drawer.\r\n   */\r\n  @Prop({ mutable: true, reflect: true }) collapsed: 'nav-left';\r\n  @Event() contentScroll: EventEmitter<{ top: number, left: number }>;\r\n\r\n  @Watch('collapsed')\r\n  collapsedDidUpdate() {\r\n    this.hasFocus = !!this.collapsed;\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.focusTarget = this.host.querySelector('.ac-layout__nav-left-container ac-navdrawer');\r\n  }\r\n\r\n  disconnectedCallback() {\r\n  }\r\n\r\n  whenBlur(element) {\r\n    console.log(element, element.dataset);\r\n    if (!element.dataset.navdrawer && this.collapsed) {\r\n      this.collapsed = null;\r\n    }\r\n  }\r\n\r\n  @Listen('resize', { target: 'window' })\r\n  @Bind\r\n  handleContentScroll() {\r\n    this.contentScroll.emit({ top: this.contentElt.scrollTop, left: this.contentElt.scrollLeft });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        class={{\r\n          [`ac-layout--${this.collapsed}-collapsed`]: !!this.collapsed,\r\n        }}\r\n      >\r\n        <div class=\"ac-layout__nav-left-container\">\r\n          <slot name=\"nav-left\"/>\r\n        </div>\r\n        <div class=\"ac-layout__content-container\">\r\n          <slot name=\"header\"/>\r\n\r\n          <div\r\n            ref={contentElt => this.contentElt = contentElt}\r\n            class=\"ac-layout__content-scroll\"\r\n            onScroll={this.handleContentScroll}\r\n          >\r\n            <slot name=\"content\" />\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"gNAAA,MAAMA,EAAc,o8D,iXCaPC,EAAQ,M,sEAInBC,KAAAC,cAAgB,IAAIC,EAAcF,M,yBAWlCG,qBACEH,KAAKI,WAAaJ,KAAKK,S,CAGzBC,mBACEN,KAAKO,YAAcP,KAAKQ,KAAKC,cAAc,8C,CAG7CC,uB,CAGAC,SAASC,GACPC,QAAQC,IAAIF,EAASA,EAAQG,SAC7B,IAAKH,EAAQG,QAAQC,WAAahB,KAAKK,UAAW,CAChDL,KAAKK,UAAY,I,EAMrBY,sBACEjB,KAAKkB,cAAcC,KAAK,CAAEC,IAAKpB,KAAKqB,WAAWC,UAAWC,KAAMvB,KAAKqB,WAAWG,Y,CAGlFC,SACE,OACEC,EAACC,EAAI,CACHC,MAAO,CACL,CAAC,cAAc5B,KAAKK,yBAA0BL,KAAKK,YAGrDqB,EAAA,OAAKE,MAAM,iCACTF,EAAA,QAAMG,KAAK,cAEbH,EAAA,OAAKE,MAAM,gCACTF,EAAA,QAAMG,KAAK,WAEXH,EAAA,OACEI,IAAKT,GAAcrB,KAAKqB,WAAaA,EACrCO,MAAM,4BACNG,SAAU/B,KAAKiB,qBAEfS,EAAA,QAAMG,KAAK,c,4FAtBrBG,EAAA,CADCC,G"}