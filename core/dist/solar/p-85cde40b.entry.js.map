{"version":3,"names":["DatePicker","window","$","undefined","VERSION","pluginName","autoInitSelector","$body","$datepickersContainer","containerBuilt","baseTemplate","defaults","classes","inline","language","startDate","Date","firstDay","weekends","dateFormat","altField","altFieldDateFormat","toggleSelected","keyboardNav","position","offset","view","minView","showOtherMonths","selectOtherMonths","moveToOtherMonthsOnSelect","showOtherYears","selectOtherYears","moveToOtherYearsOnSelect","minDate","maxDate","disableNavWhenOutOfRange","multipleDates","multipleDatesSeparator","range","todayButton","clearButton","showEvent","autoClose","monthsField","prevHtml","nextHtml","navTitles","days","months","years","timepicker","onlyTimepicker","dateTimeSeparator","timeFormat","minHours","maxHours","minMinutes","maxMinutes","hoursStep","minutesStep","onSelect","onShow","onHide","onChangeMonth","onChangeYear","onChangeDecade","onChangeView","onRenderCell","hotKeys","ctrlRight","ctrlUp","ctrlLeft","ctrlDown","shiftRight","shiftUp","shiftLeft","shiftDown","altUp","altRight","altLeft","altDown","ctrlShiftUp","datepicker","Datepicker","el","options","this","$el","opts","extend","data","nodeName","elIsInput","$altField","inited","visible","silent","currentDate","currentView","_createShortCuts","selectedDates","views","keys","minRange","maxRange","_prevOnSelectValue","init","prototype","viewIndexes","_buildDatepickersContainer","_buildBaseHtml","_defineLocale","_syncWithMinMaxDates","_setPositionClasses","_bindEvents","_bindKeyboardEvents","$datepicker","on","_onMouseDownDatepicker","bind","_onMouseUpDatepicker","addClass","fn","Timepicker","_bindTimepickerEvents","Body","show","nav","Navigation","_onClickCell","_onMouseEnterCell","_onMouseLeaveCell","_onShowEvent","_onMouseUpEl","_onBlur","_onKeyUpGeneral","_onResize","_onMouseUpBody","_onKeyDown","_onKeyUp","_onHotKey","_onTimeChange","isWeekend","day","indexOf","lang","loc","console","warn","ru","join","boundary","_getWordBoundaryRegExp","match","ampm","append","$appendTarget","$inline","insertAfter","appendTo","$content","$nav","_triggerOnChange","length","parsedSelected","getParsedDate","formattedDates","_this","dates","year","month","date","hours","minutes","map","formatDate","parsedDate","next","d","o","curDecade","prev","string","result","locale","leadingZero","getLeadingZeroNum","decade","getDecade","fullHours","dayPeriod","replacer","_replacer","validHours","_getValidHoursFromDate","test","replace","getTime","toUpperCase","fullDate","daysShort","fullMonth","monthsShort","fullMinutes","toString","slice","str","reg","p1","p2","p3","sign","symbols","RegExp","selectDate","len","newDate","Array","isArray","forEach","lastSelectedDate","_setTime","_trigger","setHours","setMinutes","getMonth","getFullYear","_render","_isSelected","push","bigger","_setInputValue","timepickerIsActive","hide","removeDate","selected","some","curDate","i","isSame","splice","today","clear","update","param","value","arguments","_addButtonsIfNeed","setPosition","_handleDate","_updateRanges","_updateCurrentTime","curTime","minTime","maxTime","checkDate","cellType","res","format","altFormat","altValues","val","_isInRange","type","time","min","max","dMinTime","dMaxTime","types","_getDimensions","width","outerWidth","height","outerHeight","left","top","_getDateFromCell","cell","pos","split","main","sec","removeAttr","dims","selfDims","secondary","css","_bindVisionEvents","removeClass","focused","inFocus","blur","down","_changeView","up","event","off","one","dir","nextView","viewIndex","_handleHotKey","key","_getFocusedDate","focusedParsed","totalDaysInNextMonth","monthChanged","yearChanged","decadeChanged","y","m","getDaysCount","_registerKey","exists","curKey","_unRegisterKey","index","_isHotKeyPressed","currentHotKey","found","pressedKeys","sort","hotKey","every","args","trigger","_focusNextCell","keyCode","nd","getDate","_getCell","selector","$cell","find","destroy","closest","remove","_handleAlreadySelectedDates","alreadySelected","selectedDate","e","originalEvent","timepickerFocus","focus","setTimeout","code","which","preventDefault","hasClass","target","less","_update","h","_focused","prevView","substring","getDay","getHours","getMinutes","firstYear","Math","floor","template","source","date1","date2","d1","d2","_type","conditions","dateCompareTo","num","parseInt","resetTime","each","Constructor","daysMin","templates","dp","proxy","$names","$cells","_getDayNamesHtml","curDay","html","_getCellContents","parent","render","disabled","_getDaysHtml","totalMonthDays","firstMonthDay","lastMonthDay","daysFromPevMonth","daysFromNextMonth","startDayIndex","_getDayHtml","content","_getMonthsHtml","_getMonthHtml","_getYearsHtml","_getYearHtml","_renderTypes","dayNames","attr","acitve","active","_handleClick","buttonsContainerTemplate","button","$buttonsContainer","_onClickNavButton","_onClickNavTitle","_addButton","title","_getTitle","setNavStatus","_addButtonsContainer","action","label","_disableNav","_activateNav","inst","input","_buildHTML","navigator","userAgent","_onSelectDate","$ranges","_onChangeRange","_onMouseUpRange","_onMouseEnterRange","_onMouseOutRange","_date","_setMinTimeFromDate","_setMaxTimeFromDate","_setDefaultMinMaxTime","_validateHoursMinutes","lz","hourMin","hourMax","hourStep","hourValue","hourVisible","displayHours","minMin","minMax","minStep","minValue","_template","$timepicker","$hours","$minutes","$hoursText","$minutesText","$ampm","_ampm","_hours","$target","name","LazyAirDatePicker","constructor","baseInput","config","commands","wrapperCommand","setView","setDate","loadjQuery","async","jQuery","addEnglishTranslation","_picker","getNativeInput","command","field","getElement","getSelectedDates","cmd","statusPicker","apply","callback","wrapperCallback","link","element","document","createElement","setAttribute","onload","onreadystatechange","head","appendChild","acDatePickerCss","AirDatePicker","formFieldBehavior","FormFieldBehavior","componentDidLoad","acInputBase","handleSelect","handleShow","handleHide","emit","disconnectedCallback","isShowing","formattedDate","formattedValue","animationCompleted","toggleButton","ref","required","slot","theme","fill","onClick","AcFaIcon","icon","faCalendarAlt","size","__decorate","Bind"],"sources":["./src/components/atoms/ac-date-picker/assets/air-datepicker.js","./src/components/atoms/ac-date-picker/assets/lazy-air-date-picker.tsx","./src/components/atoms/ac-date-picker/ac-date-picker.scss?tag=ac-date-picker","./src/components/atoms/ac-date-picker/ac-date-picker.tsx"],"sourcesContent":["export default function(window, $, undefined) {\r\n  (function() {\r\n    var VERSION = '2.2.3',\r\n      pluginName = 'datepicker',\r\n      autoInitSelector = '.datepicker-here',\r\n      $body,\r\n      $datepickersContainer,\r\n      containerBuilt = false,\r\n      baseTemplate =\r\n        '' +\r\n        '<div class=\"datepicker\">' +\r\n        '<i class=\"datepicker--pointer\"></i>' +\r\n        '<nav class=\"datepicker--nav\"></nav>' +\r\n        '<div class=\"datepicker--content\"></div>' +\r\n        '</div>',\r\n      defaults = {\r\n        classes: '',\r\n        inline: false,\r\n        language: 'ru',\r\n        startDate: new Date(),\r\n        firstDay: '',\r\n        weekends: [ 6, 0 ],\r\n        dateFormat: '',\r\n        altField: '',\r\n        altFieldDateFormat: '@',\r\n        toggleSelected: true,\r\n        keyboardNav: true,\r\n\r\n        position: 'bottom left',\r\n        offset: 12,\r\n\r\n        view: 'days',\r\n        minView: 'days',\r\n\r\n        showOtherMonths: true,\r\n        selectOtherMonths: true,\r\n        moveToOtherMonthsOnSelect: true,\r\n\r\n        showOtherYears: true,\r\n        selectOtherYears: true,\r\n        moveToOtherYearsOnSelect: true,\r\n\r\n        minDate: '',\r\n        maxDate: '',\r\n        disableNavWhenOutOfRange: true,\r\n\r\n        multipleDates: false, // Boolean or Number\r\n        multipleDatesSeparator: ',',\r\n        range: false,\r\n\r\n        todayButton: false,\r\n        clearButton: false,\r\n\r\n        showEvent: 'focus',\r\n        autoClose: false,\r\n\r\n        // navigation\r\n        monthsField: 'monthsShort',\r\n        prevHtml: '<svg><path d=\"M 17,12 l -5,5 l 5,5\"></path></svg>',\r\n        nextHtml: '<svg><path d=\"M 14,12 l 5,5 l -5,5\"></path></svg>',\r\n        navTitles: {\r\n          days: 'MM, <i>yyyy</i>',\r\n          months: 'yyyy',\r\n          years: 'yyyy1 - yyyy2'\r\n        },\r\n\r\n        // timepicker\r\n        timepicker: false,\r\n        onlyTimepicker: false,\r\n        dateTimeSeparator: ' ',\r\n        timeFormat: '',\r\n        minHours: 0,\r\n        maxHours: 24,\r\n        minMinutes: 0,\r\n        maxMinutes: 59,\r\n        hoursStep: 1,\r\n        minutesStep: 1,\r\n\r\n        // events\r\n        onSelect: '',\r\n        onShow: '',\r\n        onHide: '',\r\n        onChangeMonth: '',\r\n        onChangeYear: '',\r\n        onChangeDecade: '',\r\n        onChangeView: '',\r\n        onRenderCell: ''\r\n      },\r\n      hotKeys = {\r\n        ctrlRight: [ 17, 39 ],\r\n        ctrlUp: [ 17, 38 ],\r\n        ctrlLeft: [ 17, 37 ],\r\n        ctrlDown: [ 17, 40 ],\r\n        shiftRight: [ 16, 39 ],\r\n        shiftUp: [ 16, 38 ],\r\n        shiftLeft: [ 16, 37 ],\r\n        shiftDown: [ 16, 40 ],\r\n        altUp: [ 18, 38 ],\r\n        altRight: [ 18, 39 ],\r\n        altLeft: [ 18, 37 ],\r\n        altDown: [ 18, 40 ],\r\n        ctrlShiftUp: [ 16, 17, 38 ]\r\n      },\r\n      datepicker;\r\n\r\n    var Datepicker = function(el, options) {\r\n      this.el = el;\r\n      this.$el = $(el);\r\n\r\n      this.opts = $.extend(true, {}, defaults, options, this.$el.data());\r\n\r\n      if ($body == undefined) {\r\n        $body = $('body');\r\n      }\r\n\r\n      if (!this.opts.startDate) {\r\n        this.opts.startDate = new Date();\r\n      }\r\n\r\n      if (this.el.nodeName == 'INPUT') {\r\n        this.elIsInput = true;\r\n      }\r\n\r\n      if (this.opts.altField) {\r\n        this.$altField = typeof this.opts.altField == 'string' ? $(this.opts.altField) : this.opts.altField;\r\n      }\r\n\r\n      this.inited = false;\r\n      this.visible = false;\r\n      this.silent = false; // Need to prevent unnecessary rendering\r\n\r\n      this.currentDate = this.opts.startDate;\r\n      this.currentView = this.opts.view;\r\n      this._createShortCuts();\r\n      this.selectedDates = [];\r\n      this.views = {};\r\n      this.keys = [];\r\n      this.minRange = '';\r\n      this.maxRange = '';\r\n      this._prevOnSelectValue = '';\r\n\r\n      this.init();\r\n    };\r\n\r\n    datepicker = Datepicker;\r\n\r\n    datepicker.prototype = {\r\n      VERSION: VERSION,\r\n      viewIndexes: [ 'days', 'months', 'years' ],\r\n\r\n      init: function() {\r\n        if (!containerBuilt && !this.opts.inline && this.elIsInput) {\r\n          this._buildDatepickersContainer();\r\n        }\r\n        this._buildBaseHtml();\r\n        this._defineLocale(this.opts.language);\r\n        this._syncWithMinMaxDates();\r\n\r\n        if (this.elIsInput) {\r\n          if (!this.opts.inline) {\r\n            // Set extra classes for proper transitions\r\n            this._setPositionClasses(this.opts.position);\r\n            this._bindEvents();\r\n          }\r\n          if (this.opts.keyboardNav && !this.opts.onlyTimepicker) {\r\n            this._bindKeyboardEvents();\r\n          }\r\n          this.$datepicker.on('mousedown', this._onMouseDownDatepicker.bind(this));\r\n          this.$datepicker.on('mouseup', this._onMouseUpDatepicker.bind(this));\r\n        }\r\n\r\n        if (this.opts.classes) {\r\n          this.$datepicker.addClass(this.opts.classes);\r\n        }\r\n\r\n        if (this.opts.timepicker) {\r\n          this.timepicker = new $.fn.datepicker.Timepicker(this, this.opts);\r\n          this._bindTimepickerEvents();\r\n        }\r\n\r\n        if (this.opts.onlyTimepicker) {\r\n          this.$datepicker.addClass('-only-timepicker-');\r\n        }\r\n\r\n        this.views[this.currentView] = new $.fn.datepicker.Body(this, this.currentView, this.opts);\r\n        this.views[this.currentView].show();\r\n        this.nav = new $.fn.datepicker.Navigation(this, this.opts);\r\n        this.view = this.currentView;\r\n\r\n        this.$el.on('clickCell.adp', this._onClickCell.bind(this));\r\n        this.$datepicker.on('mouseenter', '.datepicker--cell', this._onMouseEnterCell.bind(this));\r\n        this.$datepicker.on('mouseleave', '.datepicker--cell', this._onMouseLeaveCell.bind(this));\r\n\r\n        this.inited = true;\r\n      },\r\n\r\n      _createShortCuts: function() {\r\n        this.minDate = this.opts.minDate ? this.opts.minDate : new Date(-8639999913600000);\r\n        this.maxDate = this.opts.maxDate ? this.opts.maxDate : new Date(8639999913600000);\r\n      },\r\n\r\n      _bindEvents: function() {\r\n        this.$el.on(this.opts.showEvent + '.adp', this._onShowEvent.bind(this));\r\n        this.$el.on('mouseup.adp', this._onMouseUpEl.bind(this));\r\n        this.$el.on('blur.adp', this._onBlur.bind(this));\r\n        this.$el.on('keyup.adp', this._onKeyUpGeneral.bind(this));\r\n        $(window).on('resize.adp', this._onResize.bind(this));\r\n        $('body').on('mouseup.adp', this._onMouseUpBody.bind(this));\r\n      },\r\n\r\n      _bindKeyboardEvents: function() {\r\n        this.$el.on('keydown.adp', this._onKeyDown.bind(this));\r\n        this.$el.on('keyup.adp', this._onKeyUp.bind(this));\r\n        this.$el.on('hotKey.adp', this._onHotKey.bind(this));\r\n      },\r\n\r\n      _bindTimepickerEvents: function() {\r\n        this.$el.on('timeChange.adp', this._onTimeChange.bind(this));\r\n      },\r\n\r\n      isWeekend: function(day) {\r\n        return this.opts.weekends.indexOf(day) !== -1;\r\n      },\r\n\r\n      _defineLocale: function(lang) {\r\n        if (typeof lang == 'string') {\r\n          this.loc = $.fn.datepicker.language[lang];\r\n          if (!this.loc) {\r\n            console.warn(\r\n              'Can\\'t find language \"' + lang + '\" in Datepicker.language, will use \"ru\" instead'\r\n            );\r\n            this.loc = $.extend(true, {}, $.fn.datepicker.language.ru);\r\n          }\r\n\r\n          this.loc = $.extend(true, {}, $.fn.datepicker.language.ru, $.fn.datepicker.language[lang]);\r\n        } else {\r\n          this.loc = $.extend(true, {}, $.fn.datepicker.language.ru, lang);\r\n        }\r\n\r\n        if (this.opts.dateFormat) {\r\n          this.loc.dateFormat = this.opts.dateFormat;\r\n        }\r\n\r\n        if (this.opts.timeFormat) {\r\n          this.loc.timeFormat = this.opts.timeFormat;\r\n        }\r\n\r\n        if (this.opts.firstDay !== '') {\r\n          this.loc.firstDay = this.opts.firstDay;\r\n        }\r\n\r\n        if (this.opts.timepicker) {\r\n          this.loc.dateFormat = [ this.loc.dateFormat, this.loc.timeFormat ].join(\r\n            this.opts.dateTimeSeparator\r\n          );\r\n        }\r\n\r\n        if (this.opts.onlyTimepicker) {\r\n          this.loc.dateFormat = this.loc.timeFormat;\r\n        }\r\n\r\n        var boundary = this._getWordBoundaryRegExp;\r\n        if (this.loc.timeFormat.match(boundary('aa')) || this.loc.timeFormat.match(boundary('AA'))) {\r\n          this.ampm = true;\r\n        }\r\n      },\r\n\r\n      _buildDatepickersContainer: function() {\r\n        containerBuilt = true;\r\n        $body.append('<div class=\"datepickers-container\" id=\"datepickers-container\"></div>');\r\n        $datepickersContainer = $('#datepickers-container');\r\n      },\r\n\r\n      _buildBaseHtml: function() {\r\n        var $appendTarget,\r\n          $inline = $('<div class=\"datepicker-inline\">');\r\n\r\n        if (this.el.nodeName == 'INPUT') {\r\n          if (!this.opts.inline) {\r\n            $appendTarget = $datepickersContainer;\r\n          } else {\r\n            $appendTarget = $inline.insertAfter(this.$el);\r\n          }\r\n        } else {\r\n          $appendTarget = $inline.appendTo(this.$el);\r\n        }\r\n\r\n        this.$datepicker = $(baseTemplate).appendTo($appendTarget);\r\n        this.$content = $('.datepicker--content', this.$datepicker);\r\n        this.$nav = $('.datepicker--nav', this.$datepicker);\r\n      },\r\n\r\n      _triggerOnChange: function() {\r\n        if (!this.selectedDates.length) {\r\n          // Prevent from triggering multiple onSelect callback with same argument (empty string) in IE10-11\r\n          if (this._prevOnSelectValue === '') return;\r\n          this._prevOnSelectValue = '';\r\n          return this.opts.onSelect('', '', this);\r\n        }\r\n\r\n        var selectedDates = this.selectedDates,\r\n          parsedSelected = datepicker.getParsedDate(selectedDates[0]),\r\n          formattedDates,\r\n          _this = this,\r\n          dates = new Date(\r\n            parsedSelected.year,\r\n            parsedSelected.month,\r\n            parsedSelected.date,\r\n            parsedSelected.hours,\r\n            parsedSelected.minutes\r\n          );\r\n\r\n        formattedDates = selectedDates\r\n          .map(function(date) {\r\n            return _this.formatDate(_this.loc.dateFormat, date);\r\n          })\r\n          .join(this.opts.multipleDatesSeparator);\r\n\r\n        // Create new dates array, to separate it from original selectedDates\r\n        if (this.opts.multipleDates || this.opts.range) {\r\n          dates = selectedDates.map(function(date) {\r\n            var parsedDate = datepicker.getParsedDate(date);\r\n            return new Date(\r\n              parsedDate.year,\r\n              parsedDate.month,\r\n              parsedDate.date,\r\n              parsedDate.hours,\r\n              parsedDate.minutes\r\n            );\r\n          });\r\n        }\r\n\r\n        this._prevOnSelectValue = formattedDates;\r\n        this.opts.onSelect(formattedDates, dates, this);\r\n      },\r\n\r\n      next: function() {\r\n        var d = this.parsedDate,\r\n          o = this.opts;\r\n        switch (this.view) {\r\n          case 'days':\r\n            this.date = new Date(d.year, d.month + 1, 1);\r\n            if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n            break;\r\n          case 'months':\r\n            this.date = new Date(d.year + 1, d.month, 1);\r\n            if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n            break;\r\n          case 'years':\r\n            this.date = new Date(d.year + 10, 0, 1);\r\n            if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n            break;\r\n        }\r\n      },\r\n\r\n      prev: function() {\r\n        var d = this.parsedDate,\r\n          o = this.opts;\r\n        switch (this.view) {\r\n          case 'days':\r\n            this.date = new Date(d.year, d.month - 1, 1);\r\n            if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n            break;\r\n          case 'months':\r\n            this.date = new Date(d.year - 1, d.month, 1);\r\n            if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n            break;\r\n          case 'years':\r\n            this.date = new Date(d.year - 10, 0, 1);\r\n            if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n            break;\r\n        }\r\n      },\r\n\r\n      formatDate: function(string, date) {\r\n        date = date || this.date;\r\n        var result = string,\r\n          boundary = this._getWordBoundaryRegExp,\r\n          locale = this.loc,\r\n          leadingZero = datepicker.getLeadingZeroNum,\r\n          decade = datepicker.getDecade(date),\r\n          d = datepicker.getParsedDate(date),\r\n          fullHours = d.fullHours,\r\n          hours = d.hours,\r\n          ampm = string.match(boundary('aa')) || string.match(boundary('AA')),\r\n          dayPeriod = 'am',\r\n          replacer = this._replacer,\r\n          validHours;\r\n\r\n        if (this.opts.timepicker && this.timepicker && ampm) {\r\n          validHours = this.timepicker._getValidHoursFromDate(date, ampm);\r\n          fullHours = leadingZero(validHours.hours);\r\n          hours = validHours.hours;\r\n          dayPeriod = validHours.dayPeriod;\r\n        }\r\n\r\n        switch (true) {\r\n          case /@/.test(result):\r\n            result = result.replace(/@/, date.getTime());\r\n          case /aa/.test(result):\r\n            result = replacer(result, boundary('aa'), dayPeriod);\r\n          case /AA/.test(result):\r\n            result = replacer(result, boundary('AA'), dayPeriod.toUpperCase());\r\n          case /dd/.test(result):\r\n            result = replacer(result, boundary('dd'), d.fullDate);\r\n          case /d/.test(result):\r\n            result = replacer(result, boundary('d'), d.date);\r\n          case /DD/.test(result):\r\n            result = replacer(result, boundary('DD'), locale.days[d.day]);\r\n          case /D/.test(result):\r\n            result = replacer(result, boundary('D'), locale.daysShort[d.day]);\r\n          case /mm/.test(result):\r\n            result = replacer(result, boundary('mm'), d.fullMonth);\r\n          case /m/.test(result):\r\n            result = replacer(result, boundary('m'), d.month + 1);\r\n          case /MM/.test(result):\r\n            result = replacer(result, boundary('MM'), this.loc.months[d.month]);\r\n          case /M/.test(result):\r\n            result = replacer(result, boundary('M'), locale.monthsShort[d.month]);\r\n          case /ii/.test(result):\r\n            result = replacer(result, boundary('ii'), d.fullMinutes);\r\n          case /i/.test(result):\r\n            result = replacer(result, boundary('i'), d.minutes);\r\n          case /hh/.test(result):\r\n            result = replacer(result, boundary('hh'), fullHours);\r\n          case /h/.test(result):\r\n            result = replacer(result, boundary('h'), hours);\r\n          case /yyyy/.test(result):\r\n            result = replacer(result, boundary('yyyy'), d.year);\r\n          case /yyyy1/.test(result):\r\n            result = replacer(result, boundary('yyyy1'), decade[0]);\r\n          case /yyyy2/.test(result):\r\n            result = replacer(result, boundary('yyyy2'), decade[1]);\r\n          case /yy/.test(result):\r\n            result = replacer(result, boundary('yy'), d.year.toString().slice(-2));\r\n        }\r\n\r\n        return result;\r\n      },\r\n\r\n      _replacer: function(str, reg, data) {\r\n        return str.replace(reg, function(match, p1, p2, p3) {\r\n          return p1 + data + p3;\r\n        });\r\n      },\r\n\r\n      _getWordBoundaryRegExp: function(sign) {\r\n        var symbols = '\\\\s|\\\\.|-|/|\\\\\\\\|,|\\\\$|\\\\!|\\\\?|:|;';\r\n\r\n        return new RegExp('(^|>|' + symbols + ')(' + sign + ')($|<|' + symbols + ')', 'g');\r\n      },\r\n\r\n      selectDate: function(date) {\r\n        var _this = this,\r\n          opts = _this.opts,\r\n          d = _this.parsedDate,\r\n          selectedDates = _this.selectedDates,\r\n          len = selectedDates.length,\r\n          newDate = '';\r\n\r\n        if (Array.isArray(date)) {\r\n          date.forEach(function(d) {\r\n            _this.selectDate(d);\r\n          });\r\n          return;\r\n        }\r\n\r\n        if (!(date instanceof Date)) return;\r\n\r\n        this.lastSelectedDate = date;\r\n\r\n        // Set new time values from Date\r\n        if (this.timepicker) {\r\n          this.timepicker._setTime(date);\r\n        }\r\n\r\n        // On this step timepicker will set valid values in it's instance\r\n        _this._trigger('selectDate', date);\r\n\r\n        // Set correct time values after timepicker's validation\r\n        // Prevent from setting hours or minutes which values are lesser then `min` value or\r\n        // greater then `max` value\r\n        if (this.timepicker) {\r\n          date.setHours(this.timepicker.hours);\r\n          date.setMinutes(this.timepicker.minutes);\r\n        }\r\n\r\n        if (_this.view == 'days') {\r\n          if (date.getMonth() != d.month && opts.moveToOtherMonthsOnSelect) {\r\n            newDate = new Date(date.getFullYear(), date.getMonth(), 1);\r\n          }\r\n        }\r\n\r\n        if (_this.view == 'years') {\r\n          if (date.getFullYear() != d.year && opts.moveToOtherYearsOnSelect) {\r\n            newDate = new Date(date.getFullYear(), 0, 1);\r\n          }\r\n        }\r\n\r\n        if (newDate) {\r\n          _this.silent = true;\r\n          _this.date = newDate;\r\n          _this.silent = false;\r\n          _this.nav._render();\r\n        }\r\n\r\n        if (opts.multipleDates && !opts.range) {\r\n          // Set priority to range functionality\r\n          if (len === opts.multipleDates) return;\r\n          if (!_this._isSelected(date)) {\r\n            _this.selectedDates.push(date);\r\n          }\r\n        } else if (opts.range) {\r\n          if (len == 2) {\r\n            _this.selectedDates = [ date ];\r\n            _this.minRange = date;\r\n            _this.maxRange = '';\r\n          } else if (len == 1) {\r\n            _this.selectedDates.push(date);\r\n            if (!_this.maxRange) {\r\n              _this.maxRange = date;\r\n            } else {\r\n              _this.minRange = date;\r\n            }\r\n            // Swap dates if they were selected via dp.selectDate() and second date was smaller then first\r\n            if (datepicker.bigger(_this.maxRange, _this.minRange)) {\r\n              _this.maxRange = _this.minRange;\r\n              _this.minRange = date;\r\n            }\r\n            _this.selectedDates = [ _this.minRange, _this.maxRange ];\r\n          } else {\r\n            _this.selectedDates = [ date ];\r\n            _this.minRange = date;\r\n          }\r\n        } else {\r\n          _this.selectedDates = [ date ];\r\n        }\r\n\r\n        _this._setInputValue();\r\n\r\n        if (opts.onSelect) {\r\n          _this._triggerOnChange();\r\n        }\r\n\r\n        if (opts.autoClose && !this.timepickerIsActive) {\r\n          if (!opts.multipleDates && !opts.range) {\r\n            _this.hide();\r\n          } else if (opts.range && _this.selectedDates.length == 2) {\r\n            _this.hide();\r\n          }\r\n        }\r\n\r\n        _this.views[this.currentView]._render();\r\n      },\r\n\r\n      removeDate: function(date) {\r\n        var selected = this.selectedDates,\r\n          _this = this;\r\n\r\n        if (!(date instanceof Date)) return;\r\n\r\n        return selected.some(function(curDate, i) {\r\n          if (datepicker.isSame(curDate, date)) {\r\n            selected.splice(i, 1);\r\n\r\n            if (!_this.selectedDates.length) {\r\n              _this.minRange = '';\r\n              _this.maxRange = '';\r\n              _this.lastSelectedDate = '';\r\n            } else {\r\n              _this.lastSelectedDate = _this.selectedDates[_this.selectedDates.length - 1];\r\n            }\r\n\r\n            _this.views[_this.currentView]._render();\r\n            _this._setInputValue();\r\n\r\n            if (_this.opts.onSelect) {\r\n              _this._triggerOnChange();\r\n            }\r\n\r\n            return true;\r\n          }\r\n        });\r\n      },\r\n\r\n      today: function() {\r\n        this.silent = true;\r\n        this.view = this.opts.minView;\r\n        this.silent = false;\r\n        this.date = new Date();\r\n\r\n        if (this.opts.todayButton instanceof Date) {\r\n          this.selectDate(this.opts.todayButton);\r\n        }\r\n      },\r\n\r\n      clear: function() {\r\n        this.selectedDates = [];\r\n        this.minRange = '';\r\n        this.maxRange = '';\r\n        this.views[this.currentView]._render();\r\n        this._setInputValue();\r\n        if (this.opts.onSelect) {\r\n          this._triggerOnChange();\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Updates datepicker options\r\n       * @param {String|Object} param - parameter's name to update. If object then it will extend current options\r\n       * @param {String|Number|Object} [value] - new param value\r\n       */\r\n      update: function(param, value) {\r\n        var len = arguments.length,\r\n          lastSelectedDate = this.lastSelectedDate;\r\n\r\n        if (len == 2) {\r\n          this.opts[param] = value;\r\n        } else if (len == 1 && typeof param == 'object') {\r\n          this.opts = $.extend(true, this.opts, param);\r\n        }\r\n\r\n        this._createShortCuts();\r\n        this._syncWithMinMaxDates();\r\n        this._defineLocale(this.opts.language);\r\n        this.nav._addButtonsIfNeed();\r\n        if (!this.opts.onlyTimepicker) this.nav._render();\r\n        this.views[this.currentView]._render();\r\n\r\n        if (this.elIsInput && !this.opts.inline) {\r\n          this._setPositionClasses(this.opts.position);\r\n          if (this.visible) {\r\n            this.setPosition(this.opts.position);\r\n          }\r\n        }\r\n\r\n        if (this.opts.classes) {\r\n          this.$datepicker.addClass(this.opts.classes);\r\n        }\r\n\r\n        if (this.opts.onlyTimepicker) {\r\n          this.$datepicker.addClass('-only-timepicker-');\r\n        }\r\n\r\n        if (this.opts.timepicker) {\r\n          if (lastSelectedDate) this.timepicker._handleDate(lastSelectedDate);\r\n          this.timepicker._updateRanges();\r\n          this.timepicker._updateCurrentTime();\r\n          // Change hours and minutes if it's values have been changed through min/max hours/minutes\r\n          if (lastSelectedDate) {\r\n            lastSelectedDate.setHours(this.timepicker.hours);\r\n            lastSelectedDate.setMinutes(this.timepicker.minutes);\r\n          }\r\n        }\r\n\r\n        this._setInputValue();\r\n\r\n        return this;\r\n      },\r\n\r\n      _syncWithMinMaxDates: function() {\r\n        var curTime = this.date.getTime();\r\n        this.silent = true;\r\n        if (this.minTime > curTime) {\r\n          this.date = this.minDate;\r\n        }\r\n\r\n        if (this.maxTime < curTime) {\r\n          this.date = this.maxDate;\r\n        }\r\n        this.silent = false;\r\n      },\r\n\r\n      _isSelected: function(checkDate, cellType) {\r\n        var res = false;\r\n        this.selectedDates.some(function(date) {\r\n          if (datepicker.isSame(date, checkDate, cellType)) {\r\n            res = date;\r\n            return true;\r\n          }\r\n        });\r\n        return res;\r\n      },\r\n\r\n      _setInputValue: function() {\r\n        var _this = this,\r\n          opts = _this.opts,\r\n          format = _this.loc.dateFormat,\r\n          altFormat = opts.altFieldDateFormat,\r\n          value = _this.selectedDates.map(function(date) {\r\n            return _this.formatDate(format, date);\r\n          }),\r\n          altValues;\r\n\r\n        if (opts.altField && _this.$altField.length) {\r\n          altValues = this.selectedDates.map(function(date) {\r\n            return _this.formatDate(altFormat, date);\r\n          });\r\n          altValues = altValues.join(this.opts.multipleDatesSeparator);\r\n          this.$altField.val(altValues);\r\n        }\r\n\r\n        value = value.join(this.opts.multipleDatesSeparator);\r\n\r\n        this.$el.val(value);\r\n      },\r\n\r\n      /**\r\n       * Check if date is between minDate and maxDate\r\n       * @param date {object} - date object\r\n       * @param type {string} - cell type\r\n       * @returns {boolean}\r\n       * @private\r\n       */\r\n      _isInRange: function(date, type) {\r\n        var time = date.getTime(),\r\n          d = datepicker.getParsedDate(date),\r\n          min = datepicker.getParsedDate(this.minDate),\r\n          max = datepicker.getParsedDate(this.maxDate),\r\n          dMinTime = new Date(d.year, d.month, min.date).getTime(),\r\n          dMaxTime = new Date(d.year, d.month, max.date).getTime(),\r\n          types = {\r\n            day: time >= this.minTime && time <= this.maxTime,\r\n            month: dMinTime >= this.minTime && dMaxTime <= this.maxTime,\r\n            year: d.year >= min.year && d.year <= max.year\r\n          };\r\n        return type ? types[type] : types.day;\r\n      },\r\n\r\n      _getDimensions: function($el) {\r\n        var offset = $el.offset();\r\n\r\n        return {\r\n          width: $el.outerWidth(),\r\n          height: $el.outerHeight(),\r\n          left: offset.left,\r\n          top: offset.top\r\n        };\r\n      },\r\n\r\n      _getDateFromCell: function(cell) {\r\n        var curDate = this.parsedDate,\r\n          year = cell.data('year') || curDate.year,\r\n          month = cell.data('month') == undefined ? curDate.month : cell.data('month'),\r\n          date = cell.data('date') || 1;\r\n\r\n        return new Date(year, month, date);\r\n      },\r\n\r\n      _setPositionClasses: function(pos) {\r\n        pos = pos.split(' ');\r\n        var main = pos[0],\r\n          sec = pos[1],\r\n          classes = 'datepicker -' + main + '-' + sec + '- -from-' + main + '-';\r\n\r\n        if (this.visible) classes += ' active';\r\n\r\n        this.$datepicker.removeAttr('class').addClass(classes);\r\n      },\r\n\r\n      setPosition: function(position) {\r\n        position = position || this.opts.position;\r\n\r\n        var dims = this._getDimensions(this.$el),\r\n          selfDims = this._getDimensions(this.$datepicker),\r\n          pos = position.split(' '),\r\n          top,\r\n          left,\r\n          offset = this.opts.offset,\r\n          main = pos[0],\r\n          secondary = pos[1];\r\n\r\n        switch (main) {\r\n          case 'top':\r\n            top = dims.top - selfDims.height - offset;\r\n            break;\r\n          case 'right':\r\n            left = dims.left + dims.width + offset;\r\n            break;\r\n          case 'bottom':\r\n            top = dims.top + dims.height + offset;\r\n            break;\r\n          case 'left':\r\n            left = dims.left - selfDims.width - offset;\r\n            break;\r\n        }\r\n\r\n        switch (secondary) {\r\n          case 'top':\r\n            top = dims.top;\r\n            break;\r\n          case 'right':\r\n            left = dims.left + dims.width - selfDims.width;\r\n            break;\r\n          case 'bottom':\r\n            top = dims.top + dims.height - selfDims.height;\r\n            break;\r\n          case 'left':\r\n            left = dims.left;\r\n            break;\r\n          case 'center':\r\n            if (/left|right/.test(main)) {\r\n              top = dims.top + dims.height / 2 - selfDims.height / 2;\r\n            } else {\r\n              left = dims.left + dims.width / 2 - selfDims.width / 2;\r\n            }\r\n        }\r\n\r\n        this.$datepicker.css({\r\n          left: left,\r\n          top: top,\r\n        });\r\n      },\r\n\r\n      show: function() {\r\n        var onShow = this.opts.onShow;\r\n\r\n        this.setPosition(this.opts.position);\r\n        this.$datepicker.addClass('active');\r\n        this.visible = true;\r\n\r\n        if (onShow) {\r\n          this._bindVisionEvents(onShow);\r\n        }\r\n      },\r\n\r\n      hide: function() {\r\n        var onHide = this.opts.onHide;\r\n\r\n        this.$datepicker.removeClass('active').css({\r\n          left: '-100000px'\r\n        });\r\n\r\n        this.focused = '';\r\n        this.keys = [];\r\n\r\n        this.inFocus = false;\r\n        this.visible = false;\r\n        this.$el.blur();\r\n\r\n        if (onHide) {\r\n          this._bindVisionEvents(onHide);\r\n        }\r\n      },\r\n\r\n      down: function(date) {\r\n        this._changeView(date, 'down');\r\n      },\r\n\r\n      up: function(date) {\r\n        this._changeView(date, 'up');\r\n      },\r\n\r\n      _bindVisionEvents: function(event) {\r\n        this.$datepicker.off('transitionend.dp');\r\n        event(this, false);\r\n        this.$datepicker.one('transitionend.dp', event.bind(this, this, true));\r\n      },\r\n\r\n      _changeView: function(date, dir) {\r\n        date = date || this.focused || this.date;\r\n\r\n        var nextView = dir == 'up' ? this.viewIndex + 1 : this.viewIndex - 1;\r\n        if (nextView > 2) nextView = 2;\r\n        if (nextView < 0) nextView = 0;\r\n\r\n        this.silent = true;\r\n        this.date = new Date(date.getFullYear(), date.getMonth(), 1);\r\n        this.silent = false;\r\n        this.view = this.viewIndexes[nextView];\r\n      },\r\n\r\n      _handleHotKey: function(key) {\r\n        var date = datepicker.getParsedDate(this._getFocusedDate()),\r\n          focusedParsed,\r\n          o = this.opts,\r\n          newDate,\r\n          totalDaysInNextMonth,\r\n          monthChanged = false,\r\n          yearChanged = false,\r\n          decadeChanged = false,\r\n          y = date.year,\r\n          m = date.month,\r\n          d = date.date;\r\n\r\n        switch (key) {\r\n          case 'ctrlRight':\r\n          case 'ctrlUp':\r\n            m += 1;\r\n            monthChanged = true;\r\n            break;\r\n          case 'ctrlLeft':\r\n          case 'ctrlDown':\r\n            m -= 1;\r\n            monthChanged = true;\r\n            break;\r\n          case 'shiftRight':\r\n          case 'shiftUp':\r\n            yearChanged = true;\r\n            y += 1;\r\n            break;\r\n          case 'shiftLeft':\r\n          case 'shiftDown':\r\n            yearChanged = true;\r\n            y -= 1;\r\n            break;\r\n          case 'altRight':\r\n          case 'altUp':\r\n            decadeChanged = true;\r\n            y += 10;\r\n            break;\r\n          case 'altLeft':\r\n          case 'altDown':\r\n            decadeChanged = true;\r\n            y -= 10;\r\n            break;\r\n          case 'ctrlShiftUp':\r\n            this.up();\r\n            break;\r\n        }\r\n\r\n        totalDaysInNextMonth = datepicker.getDaysCount(new Date(y, m));\r\n        newDate = new Date(y, m, d);\r\n\r\n        // If next month has less days than current, set date to total days in that month\r\n        if (totalDaysInNextMonth < d) d = totalDaysInNextMonth;\r\n\r\n        // Check if newDate is in valid range\r\n        if (newDate.getTime() < this.minTime) {\r\n          newDate = this.minDate;\r\n        } else if (newDate.getTime() > this.maxTime) {\r\n          newDate = this.maxDate;\r\n        }\r\n\r\n        this.focused = newDate;\r\n\r\n        focusedParsed = datepicker.getParsedDate(newDate);\r\n        if (monthChanged && o.onChangeMonth) {\r\n          o.onChangeMonth(focusedParsed.month, focusedParsed.year);\r\n        }\r\n        if (yearChanged && o.onChangeYear) {\r\n          o.onChangeYear(focusedParsed.year);\r\n        }\r\n        if (decadeChanged && o.onChangeDecade) {\r\n          o.onChangeDecade(this.curDecade);\r\n        }\r\n      },\r\n\r\n      _registerKey: function(key) {\r\n        var exists = this.keys.some(function(curKey) {\r\n          return curKey == key;\r\n        });\r\n\r\n        if (!exists) {\r\n          this.keys.push(key);\r\n        }\r\n      },\r\n\r\n      _unRegisterKey: function(key) {\r\n        var index = this.keys.indexOf(key);\r\n\r\n        this.keys.splice(index, 1);\r\n      },\r\n\r\n      _isHotKeyPressed: function() {\r\n        var currentHotKey,\r\n          found = false,\r\n          _this = this,\r\n          pressedKeys = this.keys.sort();\r\n\r\n        for (var hotKey in hotKeys) {\r\n          currentHotKey = hotKeys[hotKey];\r\n          if (pressedKeys.length != currentHotKey.length) continue;\r\n\r\n          if (\r\n            currentHotKey.every(function(key, i) {\r\n              return key == pressedKeys[i];\r\n            })\r\n          ) {\r\n            _this._trigger('hotKey', hotKey);\r\n            found = true;\r\n          }\r\n        }\r\n\r\n        return found;\r\n      },\r\n\r\n      _trigger: function(event, args) {\r\n        this.$el.trigger(event, args);\r\n      },\r\n\r\n      _focusNextCell: function(keyCode, type) {\r\n        type = type || this.cellType;\r\n\r\n        var date = datepicker.getParsedDate(this._getFocusedDate()),\r\n          y = date.year,\r\n          m = date.month,\r\n          d = date.date;\r\n\r\n        if (this._isHotKeyPressed()) {\r\n          return;\r\n        }\r\n\r\n        switch (keyCode) {\r\n          case 37: // left\r\n            type == 'day' ? (d -= 1) : '';\r\n            type == 'month' ? (m -= 1) : '';\r\n            type == 'year' ? (y -= 1) : '';\r\n            break;\r\n          case 38: // up\r\n            type == 'day' ? (d -= 7) : '';\r\n            type == 'month' ? (m -= 3) : '';\r\n            type == 'year' ? (y -= 4) : '';\r\n            break;\r\n          case 39: // right\r\n            type == 'day' ? (d += 1) : '';\r\n            type == 'month' ? (m += 1) : '';\r\n            type == 'year' ? (y += 1) : '';\r\n            break;\r\n          case 40: // down\r\n            type == 'day' ? (d += 7) : '';\r\n            type == 'month' ? (m += 3) : '';\r\n            type == 'year' ? (y += 4) : '';\r\n            break;\r\n        }\r\n\r\n        var nd = new Date(y, m, d);\r\n        if (nd.getTime() < this.minTime) {\r\n          nd = this.minDate;\r\n        } else if (nd.getTime() > this.maxTime) {\r\n          nd = this.maxDate;\r\n        }\r\n\r\n        this.focused = nd;\r\n      },\r\n\r\n      _getFocusedDate: function() {\r\n        var focused = this.focused || this.selectedDates[this.selectedDates.length - 1],\r\n          d = this.parsedDate;\r\n\r\n        if (!focused) {\r\n          switch (this.view) {\r\n            case 'days':\r\n              focused = new Date(d.year, d.month, new Date().getDate());\r\n              break;\r\n            case 'months':\r\n              focused = new Date(d.year, d.month, 1);\r\n              break;\r\n            case 'years':\r\n              focused = new Date(d.year, 0, 1);\r\n              break;\r\n          }\r\n        }\r\n\r\n        return focused;\r\n      },\r\n\r\n      _getCell: function(date, type) {\r\n        type = type || this.cellType;\r\n\r\n        var d = datepicker.getParsedDate(date),\r\n          selector = '.datepicker--cell[data-year=\"' + d.year + '\"]',\r\n          $cell;\r\n\r\n        switch (type) {\r\n          case 'month':\r\n            selector = '[data-month=\"' + d.month + '\"]';\r\n            break;\r\n          case 'day':\r\n            selector += '[data-month=\"' + d.month + '\"][data-date=\"' + d.date + '\"]';\r\n            break;\r\n        }\r\n        $cell = this.views[this.currentView].$el.find(selector);\r\n\r\n        return $cell.length ? $cell : $('');\r\n      },\r\n\r\n      destroy: function() {\r\n        var _this = this;\r\n        _this.$el.off('.adp').data('datepicker', '');\r\n\r\n        _this.selectedDates = [];\r\n        _this.focused = '';\r\n        _this.views = {};\r\n        _this.keys = [];\r\n        _this.minRange = '';\r\n        _this.maxRange = '';\r\n\r\n        if (_this.opts.inline || !_this.elIsInput) {\r\n          _this.$datepicker.closest('.datepicker-inline').remove();\r\n        } else {\r\n          _this.$datepicker.remove();\r\n        }\r\n      },\r\n\r\n      _handleAlreadySelectedDates: function(alreadySelected, selectedDate) {\r\n        if (this.opts.range) {\r\n          if (!this.opts.toggleSelected) {\r\n            // Add possibility to select same date when range is true\r\n            if (this.selectedDates.length != 2) {\r\n              this._trigger('clickCell', selectedDate);\r\n            }\r\n          } else {\r\n            this.removeDate(selectedDate);\r\n          }\r\n        } else if (this.opts.toggleSelected) {\r\n          this.removeDate(selectedDate);\r\n        }\r\n\r\n        // Change last selected date to be able to change time when clicking on this cell\r\n        if (!this.opts.toggleSelected) {\r\n          this.lastSelectedDate = alreadySelected;\r\n          if (this.opts.timepicker) {\r\n            this.timepicker._setTime(alreadySelected);\r\n            this.timepicker.update();\r\n          }\r\n        }\r\n      },\r\n\r\n      _onShowEvent: function(e) {\r\n        if (!this.visible) {\r\n          this.show();\r\n        }\r\n      },\r\n\r\n      _onBlur: function() {\r\n        if (!this.inFocus && this.visible) {\r\n          this.hide();\r\n        }\r\n      },\r\n\r\n      _onMouseDownDatepicker: function(e) {\r\n        this.inFocus = true;\r\n      },\r\n\r\n      _onMouseUpDatepicker: function(e) {\r\n        this.inFocus = false;\r\n        e.originalEvent.inFocus = true;\r\n        if (!e.originalEvent.timepickerFocus) this.$el.focus();\r\n      },\r\n\r\n      _onKeyUpGeneral: function(e) {\r\n        var val = this.$el.val();\r\n\r\n        if (!val) {\r\n          this.clear();\r\n        }\r\n      },\r\n\r\n      _onResize: function() {\r\n        if (this.visible) {\r\n          this.setPosition();\r\n        }\r\n      },\r\n\r\n      _onMouseUpBody: function(e) {\r\n        if (e.originalEvent.inFocus) return;\r\n\r\n        if (this.visible && !this.inFocus) {\r\n          this.hide();\r\n        }\r\n      },\r\n\r\n      _onMouseUpEl: function(e) {\r\n        e.originalEvent.inFocus = true;\r\n        setTimeout(this._onKeyUpGeneral.bind(this), 4);\r\n      },\r\n\r\n      _onKeyDown: function(e) {\r\n        var code = e.which;\r\n        this._registerKey(code);\r\n\r\n        // Arrows\r\n        if (code >= 37 && code <= 40) {\r\n          e.preventDefault();\r\n          this._focusNextCell(code);\r\n        }\r\n\r\n        // Enter\r\n        if (code == 13) {\r\n          if (this.focused) {\r\n            if (this._getCell(this.focused).hasClass('-disabled-')) return;\r\n            if (this.view != this.opts.minView) {\r\n              this.down();\r\n            } else {\r\n              var alreadySelected = this._isSelected(this.focused, this.cellType);\r\n\r\n              if (!alreadySelected) {\r\n                if (this.timepicker) {\r\n                  this.focused.setHours(this.timepicker.hours);\r\n                  this.focused.setMinutes(this.timepicker.minutes);\r\n                }\r\n                this.selectDate(this.focused);\r\n                return;\r\n              }\r\n              this._handleAlreadySelectedDates(alreadySelected, this.focused);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Esc\r\n        if (code == 27) {\r\n          this.hide();\r\n        }\r\n      },\r\n\r\n      _onKeyUp: function(e) {\r\n        var code = e.which;\r\n        this._unRegisterKey(code);\r\n      },\r\n\r\n      _onHotKey: function(e, hotKey) {\r\n        this._handleHotKey(hotKey);\r\n      },\r\n\r\n      _onMouseEnterCell: function(e) {\r\n        var $cell = $(e.target).closest('.datepicker--cell'),\r\n          date = this._getDateFromCell($cell);\r\n\r\n        // Prevent from unnecessary rendering and setting new currentDate\r\n        this.silent = true;\r\n\r\n        if (this.focused) {\r\n          this.focused = '';\r\n        }\r\n\r\n        $cell.addClass('-focus-');\r\n\r\n        this.focused = date;\r\n        this.silent = false;\r\n\r\n        if (this.opts.range && this.selectedDates.length == 1) {\r\n          this.minRange = this.selectedDates[0];\r\n          this.maxRange = '';\r\n          if (datepicker.less(this.minRange, this.focused)) {\r\n            this.maxRange = this.minRange;\r\n            this.minRange = '';\r\n          }\r\n          this.views[this.currentView]._update();\r\n        }\r\n      },\r\n\r\n      _onMouseLeaveCell: function(e) {\r\n        var $cell = $(e.target).closest('.datepicker--cell');\r\n\r\n        $cell.removeClass('-focus-');\r\n\r\n        this.silent = true;\r\n        this.focused = '';\r\n        this.silent = false;\r\n      },\r\n\r\n      _onTimeChange: function(e, h, m) {\r\n        var date = new Date(),\r\n          selectedDates = this.selectedDates,\r\n          selected = false;\r\n\r\n        if (selectedDates.length) {\r\n          selected = true;\r\n          date = this.lastSelectedDate;\r\n        }\r\n\r\n        date.setHours(h);\r\n        date.setMinutes(m);\r\n\r\n        if (!selected && !this._getCell(date).hasClass('-disabled-')) {\r\n          this.selectDate(date);\r\n        } else {\r\n          this._setInputValue();\r\n          if (this.opts.onSelect) {\r\n            this._triggerOnChange();\r\n          }\r\n        }\r\n      },\r\n\r\n      _onClickCell: function(e, date) {\r\n        if (this.timepicker) {\r\n          date.setHours(this.timepicker.hours);\r\n          date.setMinutes(this.timepicker.minutes);\r\n        }\r\n        this.selectDate(date);\r\n      },\r\n\r\n      set focused(val) {\r\n        if (!val && this.focused) {\r\n          var $cell = this._getCell(this.focused);\r\n\r\n          if ($cell.length) {\r\n            $cell.removeClass('-focus-');\r\n          }\r\n        }\r\n        this._focused = val;\r\n        if (this.opts.range && this.selectedDates.length == 1) {\r\n          this.minRange = this.selectedDates[0];\r\n          this.maxRange = '';\r\n          if (datepicker.less(this.minRange, this._focused)) {\r\n            this.maxRange = this.minRange;\r\n            this.minRange = '';\r\n          }\r\n        }\r\n        if (this.silent) return;\r\n        this.date = val;\r\n      },\r\n\r\n      get focused() {\r\n        return this._focused;\r\n      },\r\n\r\n      get parsedDate() {\r\n        return datepicker.getParsedDate(this.date);\r\n      },\r\n\r\n      set date(val) {\r\n        if (!(val instanceof Date)) return;\r\n\r\n        this.currentDate = val;\r\n\r\n        if (this.inited && !this.silent) {\r\n          this.views[this.view]._render();\r\n          this.nav._render();\r\n          if (this.visible && this.elIsInput) {\r\n            this.setPosition();\r\n          }\r\n        }\r\n        return val;\r\n      },\r\n\r\n      get date() {\r\n        return this.currentDate;\r\n      },\r\n\r\n      set view(val) {\r\n        this.viewIndex = this.viewIndexes.indexOf(val);\r\n\r\n        if (this.viewIndex < 0) {\r\n          return;\r\n        }\r\n\r\n        this.prevView = this.currentView;\r\n        this.currentView = val;\r\n\r\n        if (this.inited) {\r\n          if (!this.views[val]) {\r\n            this.views[val] = new $.fn.datepicker.Body(this, val, this.opts);\r\n          } else {\r\n            this.views[val]._render();\r\n          }\r\n\r\n          this.views[this.prevView].hide();\r\n          this.views[val].show();\r\n          this.nav._render();\r\n\r\n          if (this.opts.onChangeView) {\r\n            this.opts.onChangeView(val);\r\n          }\r\n          if (this.elIsInput && this.visible) this.setPosition();\r\n        }\r\n\r\n        return val;\r\n      },\r\n\r\n      get view() {\r\n        return this.currentView;\r\n      },\r\n\r\n      get cellType() {\r\n        return this.view.substring(0, this.view.length - 1);\r\n      },\r\n\r\n      get minTime() {\r\n        var min = datepicker.getParsedDate(this.minDate);\r\n        return new Date(min.year, min.month, min.date).getTime();\r\n      },\r\n\r\n      get maxTime() {\r\n        var max = datepicker.getParsedDate(this.maxDate);\r\n        return new Date(max.year, max.month, max.date).getTime();\r\n      },\r\n\r\n      get curDecade() {\r\n        return datepicker.getDecade(this.date);\r\n      }\r\n    };\r\n\r\n    //  Utils\r\n    // -------------------------------------------------\r\n\r\n    datepicker.getDaysCount = function(date) {\r\n      return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\r\n    };\r\n\r\n    datepicker.getParsedDate = function(date) {\r\n      return {\r\n        year: date.getFullYear(),\r\n        month: date.getMonth(),\r\n        fullMonth: date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1, // One based\r\n        date: date.getDate(),\r\n        fullDate: date.getDate() < 10 ? '0' + date.getDate() : date.getDate(),\r\n        day: date.getDay(),\r\n        hours: date.getHours(),\r\n        fullHours: date.getHours() < 10 ? '0' + date.getHours() : date.getHours(),\r\n        minutes: date.getMinutes(),\r\n        fullMinutes: date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()\r\n      };\r\n    };\r\n\r\n    datepicker.getDecade = function(date) {\r\n      var firstYear = Math.floor(date.getFullYear() / 10) * 10;\r\n\r\n      return [ firstYear, firstYear + 9 ];\r\n    };\r\n\r\n    datepicker.template = function(str, data) {\r\n      return str.replace(/#\\{([\\w]+)\\}/g, function(source, match) {\r\n        if (data[match] || data[match] === 0) {\r\n          return data[match];\r\n        }\r\n      });\r\n    };\r\n\r\n    datepicker.isSame = function(date1, date2, type) {\r\n      if (!date1 || !date2) return false;\r\n      var d1 = datepicker.getParsedDate(date1),\r\n        d2 = datepicker.getParsedDate(date2),\r\n        _type = type ? type : 'day',\r\n        conditions = {\r\n          day: d1.date == d2.date && d1.month == d2.month && d1.year == d2.year,\r\n          month: d1.month == d2.month && d1.year == d2.year,\r\n          year: d1.year == d2.year\r\n        };\r\n\r\n      return conditions[_type];\r\n    };\r\n\r\n    datepicker.less = function(dateCompareTo, date, type) {\r\n      if (!dateCompareTo || !date) return false;\r\n      return date.getTime() < dateCompareTo.getTime();\r\n    };\r\n\r\n    datepicker.bigger = function(dateCompareTo, date, type) {\r\n      if (!dateCompareTo || !date) return false;\r\n      return date.getTime() > dateCompareTo.getTime();\r\n    };\r\n\r\n    datepicker.getLeadingZeroNum = function(num) {\r\n      return parseInt(num) < 10 ? '0' + num : num;\r\n    };\r\n\r\n    /**\r\n     * Returns copy of date with hours and minutes equals to 0\r\n     * @param date {Date}\r\n     */\r\n    datepicker.resetTime = function(date) {\r\n      if (typeof date != 'object') return;\r\n      date = datepicker.getParsedDate(date);\r\n      return new Date(date.year, date.month, date.date);\r\n    };\r\n\r\n    $.fn.datepicker = function(options) {\r\n      return this.each(function() {\r\n        if (!$.data(this, pluginName)) {\r\n          $.data(this, pluginName, new Datepicker(this, options));\r\n        } else {\r\n          var _this = $.data(this, pluginName);\r\n\r\n          _this.opts = $.extend(true, _this.opts, options);\r\n          _this.update();\r\n        }\r\n      });\r\n    };\r\n\r\n    $.fn.datepicker.Constructor = Datepicker;\r\n\r\n    $.fn.datepicker.language = {\r\n      ru: {\r\n        days: [ 'Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота' ],\r\n        daysShort: [ 'Вос', 'Пон', 'Вто', 'Сре', 'Чет', 'Пят', 'Суб' ],\r\n        daysMin: [ 'Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб' ],\r\n        months: [\r\n          'Январь',\r\n          'Февраль',\r\n          'Март',\r\n          'Апрель',\r\n          'Май',\r\n          'Июнь',\r\n          'Июль',\r\n          'Август',\r\n          'Сентябрь',\r\n          'Октябрь',\r\n          'Ноябрь',\r\n          'Декабрь'\r\n        ],\r\n        monthsShort: [ 'Янв', 'Фев', 'Мар', 'Апр', 'Май', 'Июн', 'Июл', 'Авг', 'Сен', 'Окт', 'Ноя', 'Дек' ],\r\n        today: 'Сегодня',\r\n        clear: 'Очистить',\r\n        dateFormat: 'dd.mm.yyyy',\r\n        timeFormat: 'hh:ii',\r\n        firstDay: 1\r\n      }\r\n    };\r\n\r\n    $(function() {\r\n      $(autoInitSelector).datepicker();\r\n    });\r\n  })();\r\n\r\n  (function() {\r\n    var templates = {\r\n        days:\r\n          '' +\r\n          '<div class=\"datepicker--days datepicker--body\">' +\r\n          '<div class=\"datepicker--days-names\"></div>' +\r\n          '<div class=\"datepicker--cells datepicker--cells-days\"></div>' +\r\n          '</div>',\r\n        months:\r\n          '' +\r\n          '<div class=\"datepicker--months datepicker--body\">' +\r\n          '<div class=\"datepicker--cells datepicker--cells-months\"></div>' +\r\n          '</div>',\r\n        years:\r\n          '' +\r\n          '<div class=\"datepicker--years datepicker--body\">' +\r\n          '<div class=\"datepicker--cells datepicker--cells-years\"></div>' +\r\n          '</div>'\r\n      },\r\n      datepicker = $.fn.datepicker,\r\n      dp = datepicker.Constructor;\r\n\r\n    datepicker.Body = function(d, type, opts) {\r\n      this.d = d;\r\n      this.type = type;\r\n      this.opts = opts;\r\n      this.$el = $('');\r\n\r\n      if (this.opts.onlyTimepicker) return;\r\n      this.init();\r\n    };\r\n\r\n    datepicker.Body.prototype = {\r\n      init: function() {\r\n        this._buildBaseHtml();\r\n        this._render();\r\n\r\n        this._bindEvents();\r\n      },\r\n\r\n      _bindEvents: function() {\r\n        this.$el.on('click', '.datepicker--cell', $.proxy(this._onClickCell, this));\r\n      },\r\n\r\n      _buildBaseHtml: function() {\r\n        this.$el = $(templates[this.type]).appendTo(this.d.$content);\r\n        this.$names = $('.datepicker--days-names', this.$el);\r\n        this.$cells = $('.datepicker--cells', this.$el);\r\n      },\r\n\r\n      _getDayNamesHtml: function(firstDay, curDay, html, i) {\r\n        curDay = curDay != undefined ? curDay : firstDay;\r\n        html = html ? html : '';\r\n        i = i != undefined ? i : 0;\r\n\r\n        if (i > 7) return html;\r\n        if (curDay == 7) return this._getDayNamesHtml(firstDay, 0, html, ++i);\r\n\r\n        html +=\r\n          '<div class=\"datepicker--day-name' +\r\n          (this.d.isWeekend(curDay) ? ' -weekend-' : '') +\r\n          '\">' +\r\n          this.d.loc.daysMin[curDay] +\r\n          '</div>';\r\n\r\n        return this._getDayNamesHtml(firstDay, ++curDay, html, ++i);\r\n      },\r\n\r\n      _getCellContents: function(date, type) {\r\n        var classes = 'datepicker--cell datepicker--cell-' + type,\r\n          currentDate = new Date(),\r\n          parent = this.d,\r\n          minRange = dp.resetTime(parent.minRange),\r\n          maxRange = dp.resetTime(parent.maxRange),\r\n          opts = parent.opts,\r\n          d = dp.getParsedDate(date),\r\n          render = {},\r\n          html = d.date;\r\n\r\n        switch (type) {\r\n          case 'day':\r\n            if (parent.isWeekend(d.day)) classes += ' -weekend-';\r\n            if (d.month != this.d.parsedDate.month) {\r\n              classes += ' -other-month-';\r\n              if (!opts.selectOtherMonths) {\r\n                classes += ' -disabled-';\r\n              }\r\n              if (!opts.showOtherMonths) html = '';\r\n            }\r\n            break;\r\n          case 'month':\r\n            html = parent.loc[parent.opts.monthsField][d.month];\r\n            break;\r\n          case 'year':\r\n            var decade = parent.curDecade;\r\n            html = d.year;\r\n            if (d.year < decade[0] || d.year > decade[1]) {\r\n              classes += ' -other-decade-';\r\n              if (!opts.selectOtherYears) {\r\n                classes += ' -disabled-';\r\n              }\r\n              if (!opts.showOtherYears) html = '';\r\n            }\r\n            break;\r\n        }\r\n\r\n        if (opts.onRenderCell) {\r\n          render = opts.onRenderCell(date, type) || {};\r\n          html = render.html ? render.html : html;\r\n          classes += render.classes ? ' ' + render.classes : '';\r\n        }\r\n\r\n        if (opts.range) {\r\n          if (dp.isSame(minRange, date, type)) classes += ' -range-from-';\r\n          if (dp.isSame(maxRange, date, type)) classes += ' -range-to-';\r\n\r\n          if (parent.selectedDates.length == 1 && parent.focused) {\r\n            if (\r\n              (dp.bigger(minRange, date) && dp.less(parent.focused, date)) ||\r\n              (dp.less(maxRange, date) && dp.bigger(parent.focused, date))\r\n            ) {\r\n              classes += ' -in-range-';\r\n            }\r\n\r\n            if (dp.less(maxRange, date) && dp.isSame(parent.focused, date)) {\r\n              classes += ' -range-from-';\r\n            }\r\n            if (dp.bigger(minRange, date) && dp.isSame(parent.focused, date)) {\r\n              classes += ' -range-to-';\r\n            }\r\n          } else if (parent.selectedDates.length == 2) {\r\n            if (dp.bigger(minRange, date) && dp.less(maxRange, date)) {\r\n              classes += ' -in-range-';\r\n            }\r\n          }\r\n        }\r\n\r\n        if (dp.isSame(currentDate, date, type)) classes += ' -current-';\r\n        if (parent.focused && dp.isSame(date, parent.focused, type)) classes += ' -focus-';\r\n        if (parent._isSelected(date, type)) classes += ' -selected-';\r\n        if (!parent._isInRange(date, type) || render.disabled) classes += ' -disabled-';\r\n\r\n        return {\r\n          html: html,\r\n          classes: classes\r\n        };\r\n      },\r\n\r\n      /**\r\n       * Calculates days number to render. Generates days html and returns it.\r\n       * @param {object} date - Date object\r\n       * @returns {string}\r\n       * @private\r\n       */\r\n      _getDaysHtml: function(date) {\r\n        var totalMonthDays = dp.getDaysCount(date),\r\n          firstMonthDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay(),\r\n          lastMonthDay = new Date(date.getFullYear(), date.getMonth(), totalMonthDays).getDay(),\r\n          daysFromPevMonth = firstMonthDay - this.d.loc.firstDay,\r\n          daysFromNextMonth = 6 - lastMonthDay + this.d.loc.firstDay;\r\n\r\n        daysFromPevMonth = daysFromPevMonth < 0 ? daysFromPevMonth + 7 : daysFromPevMonth;\r\n        daysFromNextMonth = daysFromNextMonth > 6 ? daysFromNextMonth - 7 : daysFromNextMonth;\r\n\r\n        var startDayIndex = -daysFromPevMonth + 1,\r\n          m,\r\n          y,\r\n          html = '';\r\n\r\n        for (var i = startDayIndex, max = totalMonthDays + daysFromNextMonth; i <= max; i++) {\r\n          y = date.getFullYear();\r\n          m = date.getMonth();\r\n\r\n          html += this._getDayHtml(new Date(y, m, i));\r\n        }\r\n\r\n        return html;\r\n      },\r\n\r\n      _getDayHtml: function(date) {\r\n        var content = this._getCellContents(date, 'day');\r\n\r\n        return (\r\n          '<div class=\"' +\r\n          content.classes +\r\n          '\" ' +\r\n          'data-date=\"' +\r\n          date.getDate() +\r\n          '\" ' +\r\n          'data-month=\"' +\r\n          date.getMonth() +\r\n          '\" ' +\r\n          'data-year=\"' +\r\n          date.getFullYear() +\r\n          '\">' +\r\n          content.html +\r\n          '</div>'\r\n        );\r\n      },\r\n\r\n      /**\r\n       * Generates months html\r\n       * @param {object} date - date instance\r\n       * @returns {string}\r\n       * @private\r\n       */\r\n      _getMonthsHtml: function(date) {\r\n        var html = '',\r\n          d = dp.getParsedDate(date),\r\n          i = 0;\r\n\r\n        while (i < 12) {\r\n          html += this._getMonthHtml(new Date(d.year, i));\r\n          i++;\r\n        }\r\n\r\n        return html;\r\n      },\r\n\r\n      _getMonthHtml: function(date) {\r\n        var content = this._getCellContents(date, 'month');\r\n\r\n        return (\r\n          '<div class=\"' +\r\n          content.classes +\r\n          '\" data-month=\"' +\r\n          date.getMonth() +\r\n          '\">' +\r\n          content.html +\r\n          '</div>'\r\n        );\r\n      },\r\n\r\n      _getYearsHtml: function(date) {\r\n        var d = dp.getParsedDate(date),\r\n          decade = dp.getDecade(date),\r\n          firstYear = decade[0] - 1,\r\n          html = '',\r\n          i = firstYear;\r\n\r\n        for (i; i <= decade[1] + 1; i++) {\r\n          html += this._getYearHtml(new Date(i, 0));\r\n        }\r\n\r\n        return html;\r\n      },\r\n\r\n      _getYearHtml: function(date) {\r\n        var content = this._getCellContents(date, 'year');\r\n\r\n        return (\r\n          '<div class=\"' +\r\n          content.classes +\r\n          '\" data-year=\"' +\r\n          date.getFullYear() +\r\n          '\">' +\r\n          content.html +\r\n          '</div>'\r\n        );\r\n      },\r\n\r\n      _renderTypes: {\r\n        days: function() {\r\n          var dayNames = this._getDayNamesHtml(this.d.loc.firstDay),\r\n            days = this._getDaysHtml(this.d.currentDate);\r\n\r\n          this.$cells.html(days);\r\n          this.$names.html(dayNames);\r\n        },\r\n        months: function() {\r\n          var html = this._getMonthsHtml(this.d.currentDate);\r\n\r\n          this.$cells.html(html);\r\n        },\r\n        years: function() {\r\n          var html = this._getYearsHtml(this.d.currentDate);\r\n\r\n          this.$cells.html(html);\r\n        }\r\n      },\r\n\r\n      _render: function() {\r\n        if (this.opts.onlyTimepicker) return;\r\n        this._renderTypes[this.type].bind(this)();\r\n      },\r\n\r\n      _update: function() {\r\n        var $cells = $('.datepicker--cell', this.$cells),\r\n          _this = this,\r\n          classes,\r\n          $cell,\r\n          date;\r\n        $cells.each(function(cell, i) {\r\n          $cell = $(this);\r\n          date = _this.d._getDateFromCell($(this));\r\n          classes = _this._getCellContents(date, _this.d.cellType);\r\n          $cell.attr('class', classes.classes);\r\n        });\r\n      },\r\n\r\n      show: function() {\r\n        if (this.opts.onlyTimepicker) return;\r\n        this.$el.addClass('active');\r\n        this.acitve = true;\r\n      },\r\n\r\n      hide: function() {\r\n        this.$el.removeClass('active');\r\n        this.active = false;\r\n      },\r\n\r\n      //  Events\r\n      // -------------------------------------------------\r\n\r\n      _handleClick: function(el) {\r\n        var date = el.data('date') || 1,\r\n          month = el.data('month') || 0,\r\n          year = el.data('year') || this.d.parsedDate.year,\r\n          dp = this.d;\r\n        // Change view if min view does not reach yet\r\n        if (dp.view != this.opts.minView) {\r\n          dp.down(new Date(year, month, date));\r\n          return;\r\n        }\r\n        // Select date if min view is reached\r\n        var selectedDate = new Date(year, month, date),\r\n          alreadySelected = this.d._isSelected(selectedDate, this.d.cellType);\r\n\r\n        if (!alreadySelected) {\r\n          dp._trigger('clickCell', selectedDate);\r\n          return;\r\n        }\r\n\r\n        dp._handleAlreadySelectedDates.bind(dp, alreadySelected, selectedDate)();\r\n      },\r\n\r\n      _onClickCell: function(e) {\r\n        var $el = $(e.target).closest('.datepicker--cell');\r\n\r\n        if ($el.hasClass('-disabled-')) return;\r\n\r\n        this._handleClick.bind(this)($el);\r\n      }\r\n    };\r\n  })();\r\n\r\n  (function() {\r\n    var template =\r\n      '' +\r\n      '<div class=\"datepicker--nav-action\" data-action=\"prev\">#{prevHtml}</div>' +\r\n      '<div class=\"datepicker--nav-title\">#{title}</div>' +\r\n      '<div class=\"datepicker--nav-action\" data-action=\"next\">#{nextHtml}</div>',\r\n      buttonsContainerTemplate = '<div class=\"datepicker--buttons\"></div>',\r\n      button = '<span class=\"datepicker--button\" data-action=\"#{action}\">#{label}</span>',\r\n      datepicker = $.fn.datepicker,\r\n      dp = datepicker.Constructor;\r\n\r\n    datepicker.Navigation = function(d, opts) {\r\n      this.d = d;\r\n      this.opts = opts;\r\n\r\n      this.$buttonsContainer = '';\r\n\r\n      this.init();\r\n    };\r\n\r\n    datepicker.Navigation.prototype = {\r\n      init: function() {\r\n        this._buildBaseHtml();\r\n        this._bindEvents();\r\n      },\r\n\r\n      _bindEvents: function() {\r\n        this.d.$nav.on('click', '.datepicker--nav-action', $.proxy(this._onClickNavButton, this));\r\n        this.d.$nav.on('click', '.datepicker--nav-title', $.proxy(this._onClickNavTitle, this));\r\n        this.d.$datepicker.on('click', '.datepicker--button', $.proxy(this._onClickNavButton, this));\r\n      },\r\n\r\n      _buildBaseHtml: function() {\r\n        if (!this.opts.onlyTimepicker) {\r\n          this._render();\r\n        }\r\n        this._addButtonsIfNeed();\r\n      },\r\n\r\n      _addButtonsIfNeed: function() {\r\n        if (this.opts.todayButton) {\r\n          this._addButton('today');\r\n        }\r\n        if (this.opts.clearButton) {\r\n          this._addButton('clear');\r\n        }\r\n      },\r\n\r\n      _render: function() {\r\n        var title = this._getTitle(this.d.currentDate),\r\n          html = dp.template(template, $.extend({ title: title }, this.opts));\r\n        this.d.$nav.html(html);\r\n        if (this.d.view == 'years') {\r\n          $('.datepicker--nav-title', this.d.$nav).addClass('-disabled-');\r\n        }\r\n        this.setNavStatus();\r\n      },\r\n\r\n      _getTitle: function(date) {\r\n        return this.d.formatDate(this.opts.navTitles[this.d.view], date);\r\n      },\r\n\r\n      _addButton: function(type) {\r\n        if (!this.$buttonsContainer.length) {\r\n          this._addButtonsContainer();\r\n        }\r\n\r\n        var data = {\r\n            action: type,\r\n            label: this.d.loc[type]\r\n          },\r\n          html = dp.template(button, data);\r\n\r\n        if ($('[data-action=' + type + ']', this.$buttonsContainer).length) return;\r\n        this.$buttonsContainer.append(html);\r\n      },\r\n\r\n      _addButtonsContainer: function() {\r\n        this.d.$datepicker.append(buttonsContainerTemplate);\r\n        this.$buttonsContainer = $('.datepicker--buttons', this.d.$datepicker);\r\n      },\r\n\r\n      setNavStatus: function() {\r\n        if (!(this.opts.minDate || this.opts.maxDate) || !this.opts.disableNavWhenOutOfRange) return;\r\n\r\n        var date = this.d.parsedDate,\r\n          m = date.month,\r\n          y = date.year,\r\n          d = date.date;\r\n\r\n        switch (this.d.view) {\r\n          case 'days':\r\n            if (!this.d._isInRange(new Date(y, m - 1, 1), 'month')) {\r\n              this._disableNav('prev');\r\n            }\r\n            if (!this.d._isInRange(new Date(y, m + 1, 1), 'month')) {\r\n              this._disableNav('next');\r\n            }\r\n            break;\r\n          case 'months':\r\n            if (!this.d._isInRange(new Date(y - 1, m, d), 'year')) {\r\n              this._disableNav('prev');\r\n            }\r\n            if (!this.d._isInRange(new Date(y + 1, m, d), 'year')) {\r\n              this._disableNav('next');\r\n            }\r\n            break;\r\n          case 'years':\r\n            var decade = dp.getDecade(this.d.date);\r\n            if (!this.d._isInRange(new Date(decade[0] - 1, 0, 1), 'year')) {\r\n              this._disableNav('prev');\r\n            }\r\n            if (!this.d._isInRange(new Date(decade[1] + 1, 0, 1), 'year')) {\r\n              this._disableNav('next');\r\n            }\r\n            break;\r\n        }\r\n      },\r\n\r\n      _disableNav: function(nav) {\r\n        $('[data-action=\"' + nav + '\"]', this.d.$nav).addClass('-disabled-');\r\n      },\r\n\r\n      _activateNav: function(nav) {\r\n        $('[data-action=\"' + nav + '\"]', this.d.$nav).removeClass('-disabled-');\r\n      },\r\n\r\n      _onClickNavButton: function(e) {\r\n        var $el = $(e.target).closest('[data-action]'),\r\n          action = $el.data('action');\r\n\r\n        this.d[action]();\r\n      },\r\n\r\n      _onClickNavTitle: function(e) {\r\n        if ($(e.target).hasClass('-disabled-')) return;\r\n\r\n        if (this.d.view == 'days') {\r\n          return (this.d.view = 'months');\r\n        }\r\n\r\n        this.d.view = 'years';\r\n      }\r\n    };\r\n  })();\r\n\r\n  (function() {\r\n    var template =\r\n      '<div class=\"datepicker--time\">' +\r\n      '<div class=\"datepicker--time-current\">' +\r\n      '   <span class=\"datepicker--time-current-hours\">#{hourVisible}</span>' +\r\n      '   <span class=\"datepicker--time-current-colon\">:</span>' +\r\n      '   <span class=\"datepicker--time-current-minutes\">#{minValue}</span>' +\r\n      '</div>' +\r\n      '<div class=\"datepicker--time-sliders\">' +\r\n      '   <div class=\"datepicker--time-row\">' +\r\n      '      <input type=\"range\" name=\"hours\" value=\"#{hourValue}\" min=\"#{hourMin}\" max=\"#{hourMax}\" step=\"#{hourStep}\"/>' +\r\n      '   </div>' +\r\n      '   <div class=\"datepicker--time-row\">' +\r\n      '      <input type=\"range\" name=\"minutes\" value=\"#{minValue}\" min=\"#{minMin}\" max=\"#{minMax}\" step=\"#{minStep}\"/>' +\r\n      '   </div>' +\r\n      '</div>' +\r\n      '</div>',\r\n      datepicker = $.fn.datepicker,\r\n      dp = datepicker.Constructor;\r\n\r\n    datepicker.Timepicker = function(inst, opts) {\r\n      this.d = inst;\r\n      this.opts = opts;\r\n\r\n      this.init();\r\n    };\r\n\r\n    datepicker.Timepicker.prototype = {\r\n      init: function() {\r\n        var input = 'input';\r\n        this._setTime(this.d.date);\r\n        this._buildHTML();\r\n\r\n        if (navigator.userAgent.match(/trident/gi)) {\r\n          input = 'change';\r\n        }\r\n\r\n        this.d.$el.on('selectDate', this._onSelectDate.bind(this));\r\n        this.$ranges.on(input, this._onChangeRange.bind(this));\r\n        this.$ranges.on('mouseup', this._onMouseUpRange.bind(this));\r\n        this.$ranges.on('mousemove focus ', this._onMouseEnterRange.bind(this));\r\n        this.$ranges.on('mouseout blur', this._onMouseOutRange.bind(this));\r\n      },\r\n\r\n      _setTime: function(date) {\r\n        var _date = dp.getParsedDate(date);\r\n\r\n        this._handleDate(date);\r\n        this.hours = _date.hours < this.minHours ? this.minHours : _date.hours;\r\n        this.minutes = _date.minutes < this.minMinutes ? this.minMinutes : _date.minutes;\r\n      },\r\n\r\n      /**\r\n       * Sets minHours and minMinutes from date (usually it's a minDate)\r\n       * Also changes minMinutes if current hours are bigger then @date hours\r\n       * @param date {Date}\r\n       * @private\r\n       */\r\n      _setMinTimeFromDate: function(date) {\r\n        this.minHours = date.getHours();\r\n        this.minMinutes = date.getMinutes();\r\n\r\n        // If, for example, min hours are 10, and current hours are 12,\r\n        // update minMinutes to default value, to be able to choose whole range of values\r\n        if (this.d.lastSelectedDate) {\r\n          if (this.d.lastSelectedDate.getHours() > date.getHours()) {\r\n            this.minMinutes = this.opts.minMinutes;\r\n          }\r\n        }\r\n      },\r\n\r\n      _setMaxTimeFromDate: function(date) {\r\n        this.maxHours = date.getHours();\r\n        this.maxMinutes = date.getMinutes();\r\n\r\n        if (this.d.lastSelectedDate) {\r\n          if (this.d.lastSelectedDate.getHours() < date.getHours()) {\r\n            this.maxMinutes = this.opts.maxMinutes;\r\n          }\r\n        }\r\n      },\r\n\r\n      _setDefaultMinMaxTime: function() {\r\n        var maxHours = 23,\r\n          maxMinutes = 59,\r\n          opts = this.opts;\r\n\r\n        this.minHours = opts.minHours < 0 || opts.minHours > maxHours ? 0 : opts.minHours;\r\n        this.minMinutes = opts.minMinutes < 0 || opts.minMinutes > maxMinutes ? 0 : opts.minMinutes;\r\n        this.maxHours = opts.maxHours < 0 || opts.maxHours > maxHours ? maxHours : opts.maxHours;\r\n        this.maxMinutes = opts.maxMinutes < 0 || opts.maxMinutes > maxMinutes ? maxMinutes : opts.maxMinutes;\r\n      },\r\n\r\n      /**\r\n       * Looks for min/max hours/minutes and if current values\r\n       * are out of range sets valid values.\r\n       * @private\r\n       */\r\n      _validateHoursMinutes: function(date) {\r\n        if (this.hours < this.minHours) {\r\n          this.hours = this.minHours;\r\n        } else if (this.hours > this.maxHours) {\r\n          this.hours = this.maxHours;\r\n        }\r\n\r\n        if (this.minutes < this.minMinutes) {\r\n          this.minutes = this.minMinutes;\r\n        } else if (this.minutes > this.maxMinutes) {\r\n          this.minutes = this.maxMinutes;\r\n        }\r\n      },\r\n\r\n      _buildHTML: function() {\r\n        var lz = dp.getLeadingZeroNum,\r\n          data = {\r\n            hourMin: this.minHours,\r\n            hourMax: lz(this.maxHours),\r\n            hourStep: this.opts.hoursStep,\r\n            hourValue: this.hours,\r\n            hourVisible: lz(this.displayHours),\r\n            minMin: this.minMinutes,\r\n            minMax: lz(this.maxMinutes),\r\n            minStep: this.opts.minutesStep,\r\n            minValue: lz(this.minutes)\r\n          },\r\n          _template = dp.template(template, data);\r\n\r\n        this.$timepicker = $(_template).appendTo(this.d.$datepicker);\r\n        this.$ranges = $('[type=\"range\"]', this.$timepicker);\r\n        this.$hours = $('[name=\"hours\"]', this.$timepicker);\r\n        this.$minutes = $('[name=\"minutes\"]', this.$timepicker);\r\n        this.$hoursText = $('.datepicker--time-current-hours', this.$timepicker);\r\n        this.$minutesText = $('.datepicker--time-current-minutes', this.$timepicker);\r\n\r\n        if (this.d.ampm) {\r\n          this.$ampm = $('<span class=\"datepicker--time-current-ampm\">')\r\n            .appendTo($('.datepicker--time-current', this.$timepicker))\r\n            .html(this.dayPeriod);\r\n\r\n          this.$timepicker.addClass('-am-pm-');\r\n        }\r\n      },\r\n\r\n      _updateCurrentTime: function() {\r\n        var h = dp.getLeadingZeroNum(this.displayHours),\r\n          m = dp.getLeadingZeroNum(this.minutes);\r\n\r\n        this.$hoursText.html(h);\r\n        this.$minutesText.html(m);\r\n\r\n        if (this.d.ampm) {\r\n          this.$ampm.html(this.dayPeriod);\r\n        }\r\n      },\r\n\r\n      _updateRanges: function() {\r\n        this.$hours\r\n          .attr({\r\n            min: this.minHours,\r\n            max: this.maxHours\r\n          })\r\n          .val(this.hours);\r\n\r\n        this.$minutes\r\n          .attr({\r\n            min: this.minMinutes,\r\n            max: this.maxMinutes\r\n          })\r\n          .val(this.minutes);\r\n      },\r\n\r\n      /**\r\n       * Sets minHours, minMinutes etc. from date. If date is not passed, than sets\r\n       * values from options\r\n       * @param [date] {object} - Date object, to get values from\r\n       * @private\r\n       */\r\n      _handleDate: function(date) {\r\n        this._setDefaultMinMaxTime();\r\n        if (date) {\r\n          if (dp.isSame(date, this.d.opts.minDate)) {\r\n            this._setMinTimeFromDate(this.d.opts.minDate);\r\n          } else if (dp.isSame(date, this.d.opts.maxDate)) {\r\n            this._setMaxTimeFromDate(this.d.opts.maxDate);\r\n          }\r\n        }\r\n\r\n        this._validateHoursMinutes(date);\r\n      },\r\n\r\n      update: function() {\r\n        this._updateRanges();\r\n        this._updateCurrentTime();\r\n      },\r\n\r\n      /**\r\n       * Calculates valid hour value to display in text input and datepicker's body.\r\n       * @param date {Date|Number} - date or hours\r\n       * @param [ampm] {Boolean} - 12 hours mode\r\n       * @returns {{hours: *, dayPeriod: string}}\r\n       * @private\r\n       */\r\n      _getValidHoursFromDate: function(date, ampm) {\r\n        var d = date,\r\n          hours = date;\r\n\r\n        if (date instanceof Date) {\r\n          d = dp.getParsedDate(date);\r\n          hours = d.hours;\r\n        }\r\n\r\n        var _ampm = ampm || this.d.ampm,\r\n          dayPeriod = 'am';\r\n\r\n        if (_ampm) {\r\n          switch (true) {\r\n            case hours == 0:\r\n              hours = 12;\r\n              break;\r\n            case hours == 12:\r\n              dayPeriod = 'pm';\r\n              break;\r\n            case hours > 11:\r\n              hours = hours - 12;\r\n              dayPeriod = 'pm';\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n\r\n        return {\r\n          hours: hours,\r\n          dayPeriod: dayPeriod\r\n        };\r\n      },\r\n\r\n      set hours(val) {\r\n        this._hours = val;\r\n\r\n        var displayHours = this._getValidHoursFromDate(val);\r\n\r\n        this.displayHours = displayHours.hours;\r\n        this.dayPeriod = displayHours.dayPeriod;\r\n      },\r\n\r\n      get hours() {\r\n        return this._hours;\r\n      },\r\n\r\n      //  Events\r\n      // -------------------------------------------------\r\n\r\n      _onChangeRange: function(e) {\r\n        var $target = $(e.target),\r\n          name = $target.attr('name');\r\n\r\n        this.d.timepickerIsActive = true;\r\n\r\n        this[name] = $target.val();\r\n        this._updateCurrentTime();\r\n        this.d._trigger('timeChange', [ this.hours, this.minutes ]);\r\n\r\n        this._handleDate(this.d.lastSelectedDate);\r\n        this.update();\r\n      },\r\n\r\n      _onSelectDate: function(e, data) {\r\n        this._handleDate(data);\r\n        this.update();\r\n      },\r\n\r\n      _onMouseEnterRange: function(e) {\r\n        var name = $(e.target).attr('name');\r\n        $('.datepicker--time-current-' + name, this.$timepicker).addClass('-focus-');\r\n      },\r\n\r\n      _onMouseOutRange: function(e) {\r\n        var name = $(e.target).attr('name');\r\n        if (this.d.inFocus) return; // Prevent removing focus when mouse out of range slider\r\n        $('.datepicker--time-current-' + name, this.$timepicker).removeClass('-focus-');\r\n      },\r\n\r\n      _onMouseUpRange: function(e) {\r\n        this.d.timepickerIsActive = false;\r\n      }\r\n    };\r\n  })();\r\n}\r\n","import DatePicker from './air-datepicker.js';\r\nexport class LazyAirDatePicker {\r\n  private statusPicker: 'pendinng' | 'ready'; \r\n  private commands: any[] = [];\r\n  private _picker: any;\r\n  \r\n  constructor(baseInput: HTMLAcInputBaseElement, config: any) {\r\n    this.selectDate = this.wrapperCommand(this.selectDate);\r\n    this.show = this.wrapperCommand(this.show);\r\n    this.hide = this.wrapperCommand(this.hide);\r\n    this.destroy = this.wrapperCommand(this.destroy);\r\n    this.next = this.wrapperCommand(this.next);\r\n    this.prev = this.wrapperCommand(this.prev);\r\n    this.removeDate = this.wrapperCommand(this.removeDate);\r\n    this.clear = this.wrapperCommand(this.clear);\r\n    this.update = this.wrapperCommand(this.update);\r\n    this.setView = this.wrapperCommand(this.setView);\r\n    this.setDate = this.wrapperCommand(this.setDate);\r\n\r\n    this.loadjQuery(async () => {\r\n      const $ = (window as any).jQuery;\r\n      DatePicker(window, $);\r\n      this.addEnglishTranslation($);\r\n      this._picker = $(await baseInput.getNativeInput())\r\n        .datepicker(config)\r\n        .data('datepicker');\r\n        this.commands\r\n          .forEach(command => command());\r\n        this.commands.length = 0;\r\n    });\r\n  }\r\n\r\n  selectDate(date: Date) {\r\n    this._picker.selectDate(date);\r\n  }\r\n\r\n  show() {\r\n    this._picker.show();\r\n  }\r\n\r\n  hide() {\r\n    this._picker.hide();\r\n  }\r\n\r\n  destroy() {\r\n    this._picker.destroy();\r\n  }\r\n\r\n  next() {\r\n    this._picker.next();\r\n  }\r\n\r\n  prev() {\r\n    this._picker.prev();\r\n  }\r\n  \r\n  removeDate(date: Date) {\r\n    this._picker.removeDate(date);\r\n  }\r\n\r\n  clear() {\r\n    this._picker.clear();\r\n  }\r\n\r\n  update(field: string, value: any) {\r\n    this._picker.show(field, value);\r\n  }\r\n\r\n  setView(view: string) {\r\n    this._picker.view = view;\r\n  }\r\n  \r\n  setDate(date: Date) {\r\n    this._picker.date = date;\r\n  }\r\n\r\n  getElement(): Promise<HTMLElement> {\r\n    return this._picker.$el;\r\n  }\r\n\r\n  getSelectedDates(): Promise<Date[]> {\r\n    return this._picker.selectedDates;\r\n  }\r\n\r\n  private wrapperCommand(cmd) {\r\n    return (...args) => {\r\n      if (this.statusPicker === 'pendinng') {\r\n        this.commands.push(() => cmd.apply(this, args));\r\n      } else {\r\n        cmd.apply(this, args);\r\n      }\r\n    };\r\n  }\r\n  private addEnglishTranslation(jQuery: any) {\r\n    jQuery.fn.datepicker.language['en'] = {\r\n      days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\r\n      daysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\r\n      daysMin: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\r\n      months: [\r\n        'January',\r\n        'February',\r\n        'March',\r\n        'April',\r\n        'May',\r\n        'June',\r\n        'July',\r\n        'August',\r\n        'September',\r\n        'October',\r\n        'November',\r\n        'December'\r\n      ],\r\n      monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n      today: 'Today',\r\n      clear: 'Clear',\r\n      dateFormat: 'mm/dd/yyyy',\r\n      timeFormat: 'hh:ii aa',\r\n      firstDay: 0\r\n    };\r\n    jQuery.fn.datepicker.language['pt-BR'] = {\r\n      days: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],\r\n      daysShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sab'],\r\n      daysMin: ['Do', 'Se', 'Te', 'Qu', 'Qu', 'Se', 'Sa'],\r\n      // tslint:disable-next-line:max-line-length\r\n      months: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\r\n      monthsShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],\r\n      today: 'Hoje',\r\n      clear: 'Limpar',\r\n      dateFormat: 'dd/mm/yyyy',\r\n      timeFormat: 'hh:ii',\r\n      firstDay: 0\r\n    };\r\n  }\r\n \r\n  /**\r\n   * I dynamically load jQuery into application if it's not yet defined inside global\r\n   * scope. This eliminates an extra step if you don't have jQuery already and if you\r\n   * do we will just use yours.\r\n   */\r\n  private loadjQuery(callback: () => void) {\r\n    const jQuery = (window as any).jQuery;\r\n    const wrapperCallback = () => {\r\n      this.statusPicker = \"ready\";\r\n      callback();\r\n    };\r\n    this.statusPicker = \"pendinng\";\r\n    if (!jQuery) {\r\n      const link = 'https://code.jquery.com/jquery-3.3.1.min.js';\r\n\r\n      const element = document.createElement('script');\r\n      element.setAttribute('type', 'text/javascript');\r\n      element.setAttribute('src', link);\r\n      element.onload = wrapperCallback;\r\n      (element as any).onreadystatechange = wrapperCallback;\r\n      document.head.appendChild(element);\r\n    } else {\r\n      wrapperCallback();\r\n    }\r\n  }\r\n}\r\n","@import \"../../../theme/variables\";\r\n\r\n.datepicker--cell-day {\r\n  width: 14.28571%;\r\n\r\n  &.-other-month- {\r\n    color: #dedede;\r\n\r\n    &:hover {\r\n      color: #c5c5c5;\r\n    }\r\n\r\n    &:empty {\r\n      border: none;\r\n      background: none;\r\n    }\r\n  }\r\n}\r\n\r\n.datepicker--cell-year {\r\n  width: 25%;\r\n  height: 33.33%;\r\n\r\n  &.-other-decade- {\r\n    color: #dedede;\r\n\r\n    &:hover {\r\n      color: #c5c5c5;\r\n    }\r\n\r\n    &:empty {\r\n      border: none;\r\n      background: none;\r\n    }\r\n  }\r\n}\r\n\r\n.-selected- {\r\n  &.-focus- {\r\n    &.datepicker--cell-day.-other-month- {\r\n      background: #8ad5f4;\r\n    }\r\n\r\n    &.datepicker--cell-year.-other-decade- {\r\n      background: #8ad5f4;\r\n    }\r\n  }\r\n\r\n  &.datepicker--cell-day.-other-month- {\r\n    background: var-color(\"neutral\", \"lighter\", 20%);\r\n  }\r\n\r\n  &.datepicker--cell-year.-other-decade- {\r\n    background: #a2ddf6;\r\n    color: #fff;\r\n  }\r\n}\r\n\r\n.-in-range- {\r\n  &.-focus- {\r\n    &.datepicker--cell-day.-other-month- {\r\n      background-color: rgba(92, 196, 239, 0.2);\r\n    }\r\n\r\n    &.datepicker--cell-year.-other-decade- {\r\n      background-color: rgba(92, 196, 239, 0.2);\r\n    }\r\n  }\r\n\r\n  &.datepicker--cell-day.-other-month- {\r\n    color: var-color(\"neutral\", \"lighter\", 20%);\r\n  }\r\n\r\n  &.datepicker--cell-year.-other-decade- {\r\n    background-color: rgba(92, 196, 239, 0.1);\r\n    color: #cccccc;\r\n  }\r\n}\r\n\r\n.datepicker--cells {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.datepicker--cell {\r\n  display: flex;\r\n  position: relative;\r\n  z-index: 1;\r\n  box-sizing: border-box;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 34px;\r\n  margin: 2px 0;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n\r\n  &.-focus- {\r\n    background: var-color(\"primary\", \"normal\", 0.2);\r\n    color: var-color(\"primary\", \"dark\", 0.2);\r\n  }\r\n\r\n  &.-current- {\r\n    background-color: var-color(\"neutral\", \"light\");\r\n    color: var-color(\"neutral\", \"inverted\");\r\n\r\n    &.-in-range- {\r\n      color: var-color(\"secondary\", \"dark\", 0.2);\r\n    }\r\n  }\r\n\r\n  &.-in-range- {\r\n    border-radius: 0;\r\n    background: var-color(\"secondary\", \"normal\", 20%);\r\n    color: var-color(\"secondary\", \"normal\", 0.2);\r\n\r\n    &.-focus- {\r\n      background-color: var-color(\"secondary\", \"normal\" 0.12);\r\n    }\r\n  }\r\n\r\n  &.-disabled- {\r\n    color: var-color(\"neutral\", \"normal\");\r\n    cursor: default;\r\n\r\n    &.-focus- {\r\n      background-color: var-color(\"neutral\", \"normal\");\r\n      color: var-color(\"neutral\", \"light\");\r\n    }\r\n\r\n    &.-in-range- {\r\n      color: var-color(\"neutral\", \"normal\");\r\n    }\r\n\r\n    &.-current-.-focus- {\r\n      color: var-color(\"neutral\", \"dark\");\r\n    }\r\n  }\r\n\r\n  &.-range-from- {\r\n    border: 1px solid var-color(\"secondary\", \"normal\", 0.2);\r\n    border-radius: 4px 0 0 4px;\r\n    background-color: var-color(\"secondary\", \"normal\", 0.12);\r\n\r\n    &.-range-to- {\r\n      border-radius: 4px;\r\n    }\r\n  }\r\n\r\n  &.-range-to- {\r\n    border: 1px solid var-color(\"secondary\", \"normal\", 0.2);\r\n    border-radius: 0 4px 4px 0;\r\n    background-color: var-color(\"secondary\", \"normal\", 0.12);\r\n  }\r\n\r\n  &.-selected- {\r\n    border: none;\r\n    background: var-color(\"secondary\", \"normal\");\r\n    color: #fff;\r\n    font-weight: bold;\r\n  }\r\n\r\n  &:empty {\r\n    cursor: default;\r\n  }\r\n}\r\n\r\n.datepicker--days-names {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 8px 0;\r\n}\r\n\r\n.datepicker--day-name {\r\n  display: flex;\r\n  flex: 1;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: var-color(\"neutral\", \"normal\");\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n}\r\n\r\n.datepicker--cells-months {\r\n  height: 200px;\r\n}\r\n\r\n.datepicker--cell-month {\r\n  width: 25%;\r\n  height: 30%;\r\n}\r\n\r\n.datepicker--years {\r\n  height: 170px;\r\n}\r\n\r\n.datepicker--cells-years {\r\n  height: 170px;\r\n}\r\n\r\n.datepickers-container {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n@media print {\r\n  .datepickers-container {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.datepicker {\r\n  position: absolute;\r\n  z-index: 100;\r\n  left: -100000px;\r\n  box-sizing: content-box;\r\n  width: 260px;\r\n  margin-top: -8px;\r\n  transition: opacity .2s ease, transform .2s ease, left 0s .2s;\r\n  border: 1px solid rgba(0, 0, 0, .08);\r\n  border-radius: 4px;\r\n  opacity: 0;\r\n  background: #fff;\r\n  box-shadow: 0 8px 16px rgba(0, 0, 0, .04);\r\n  font-size: 14px;\r\n\r\n  &.-from-top- {\r\n    transform: translateY(-8px);\r\n  }\r\n\r\n  &.-from-right- {\r\n    transform: translateX(8px);\r\n  }\r\n\r\n  &.-from-bottom- {\r\n    transform: translateY(8px);\r\n  }\r\n\r\n  &.-from-left- {\r\n    transform: translateX(-8px);\r\n  }\r\n\r\n  &.active {\r\n    transform: translate(0);\r\n    transition: opacity .2s ease, transform .2s ease, left 0s 0s;\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.datepicker-inline {\r\n  .datepicker {\r\n    position: static;\r\n    right: auto;\r\n    left: auto;\r\n    transform: none;\r\n    border-color: #d7d7d7;\r\n    opacity: 1;\r\n    box-shadow: none;\r\n  }\r\n\r\n  .datepicker--pointer {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.datepicker--content {\r\n  box-sizing: content-box;\r\n  padding: 8px;\r\n}\r\n\r\n.-only-timepicker- {\r\n  .datepicker--content {\r\n    display: none;\r\n  }\r\n\r\n  .datepicker--nav {\r\n    display: none;\r\n  }\r\n\r\n  .datepicker--time {\r\n    border-top: none;\r\n  }\r\n}\r\n\r\n.datepicker--pointer {\r\n  position: absolute;\r\n  background: #fff;\r\n  border-top: 1px solid #dbdbdb;\r\n  border-right: 1px solid #dbdbdb;\r\n  width: 10px;\r\n  height: 10px;\r\n  z-index: -1;\r\n  display: none;\r\n}\r\n\r\n.datepicker--body {\r\n  display: none;\r\n\r\n  &.active {\r\n    display: block;\r\n  }\r\n}\r\n\r\n.datepicker--nav {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid var-color(\"neutral\", \"lighter\");\r\n  min-height: 32px;\r\n  padding: 4px;\r\n}\r\n\r\n.datepicker--nav-title {\r\n  display: flex;\r\n  cursor: pointer;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 4px;\r\n  font-weight: bold;\r\n  color: var-color(\"primary\", \"normal\");\r\n  padding: 4px 12px;\r\n\r\n  i {\r\n    font-style: normal;\r\n    font-weight: normal;\r\n    margin-left: 4px;\r\n  }\r\n\r\n  &:hover {\r\n    background: var-color(\"primary\", \"normal\", 0.2);\r\n    color: var-color(\"primary\", \"dark\", 0.2);\r\n  }\r\n\r\n  &.-disabled- {\r\n    cursor: default;\r\n    background: none;\r\n  }\r\n}\r\n\r\n.datepicker--nav-action {\r\n  display: flex;\r\n  cursor: pointer;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 32px;\r\n  border-radius: 4px;\r\n  user-select: none;\r\n\r\n  &:hover {\r\n    background: var-color(\"primary\", \"normal\", 0.2);;\r\n  }\r\n\r\n  &.-disabled- {\r\n    visibility: hidden;\r\n  }\r\n\r\n  svg {\r\n    width: 32px;\r\n    height: 32px;\r\n  }\r\n\r\n  path {\r\n    fill: none;\r\n    stroke: var-color(\"primary\", \"normal\");\r\n    stroke-width: 2px;\r\n  }\r\n}\r\n\r\n.datepicker--buttons {\r\n  display: flex;\r\n  padding: 4px;\r\n  border-top: 1px solid #efefef;\r\n}\r\n\r\n.datepicker--button {\r\n  color: #4eb5e6;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  flex: 1;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 32px;\r\n\r\n  &:hover {\r\n    color: #4a4a4a;\r\n    background: #f0f0f0;\r\n  }\r\n}\r\n\r\n.datepicker--time {\r\n  display: flex;\r\n  position: relative;\r\n  align-items: center;\r\n  padding: 4px;\r\n  border-top: 1px solid #efefef;\r\n\r\n  &.-am-pm- .datepicker--time-sliders {\r\n    flex: 0 1 138px;\r\n    max-width: 138px;\r\n  }\r\n}\r\n\r\n.datepicker--time-sliders {\r\n  flex: 0 1 153px;\r\n  max-width: 153px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.datepicker--time-label {\r\n  display: none;\r\n  font-size: 12px;\r\n}\r\n\r\n.datepicker--time-current {\r\n  display: flex;\r\n  flex: 1;\r\n  align-items: center;\r\n  margin: 0 0 0 10px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n}\r\n\r\n.datepicker--time-current-colon {\r\n  margin: 0 4px;\r\n  line-height: 1;\r\n}\r\n\r\n.datepicker--time-current-hours {\r\n  position: relative;\r\n  z-index: 1;\r\n  padding: 4px;\r\n\r\n  &:after {\r\n    position: absolute;\r\n    content: '';\r\n    background: #f0f0f0;\r\n    border-radius: 4px;\r\n    left: 0;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: -1;\r\n    opacity: 0;\r\n  }\r\n\r\n  &.-focus-:after {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.datepicker--time-current-minutes {\r\n  position: relative;\r\n  z-index: 1;\r\n  padding: 4px;\r\n\r\n  &:after {\r\n    content: '';\r\n    background: #f0f0f0;\r\n    border-radius: 4px;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: -1;\r\n    opacity: 0;\r\n  }\r\n\r\n  &.-focus-:after {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.datepicker--time-current-ampm {\r\n  text-transform: uppercase;\r\n  align-self: flex-end;\r\n  color: #9c9c9c;\r\n  margin-left: 6px;\r\n  font-size: 11px;\r\n  margin-bottom: 1px;\r\n}\r\n\r\n.datepicker--time-row {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 11px;\r\n  height: 17px;\r\n  background: linear-gradient(to right, #dedede, #dedede) left 50%/100% 1px no-repeat;\r\n\r\n  &:first-child {\r\n    margin-bottom: 4px;\r\n  }\r\n\r\n  input[type='range'] {\r\n    background: none;\r\n    cursor: pointer;\r\n    flex: 1;\r\n    height: 100%;\r\n    padding: 0;\r\n    margin: 0;\r\n\r\n    &:hover::-webkit-slider-thumb {\r\n      border-color: #b8b8b8;\r\n    }\r\n\r\n    &:hover::-moz-range-thumb {\r\n      border-color: #b8b8b8;\r\n    }\r\n\r\n    &:hover::-ms-thumb {\r\n      border-color: #b8b8b8;\r\n    }\r\n\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n\r\n    &:focus::-webkit-slider-thumb {\r\n      background: #5cc4ef;\r\n      border-color: #5cc4ef;\r\n    }\r\n\r\n    &:focus::-moz-range-thumb {\r\n      background: #5cc4ef;\r\n      border-color: #5cc4ef;\r\n    }\r\n\r\n    &:focus::-ms-thumb {\r\n      background: #5cc4ef;\r\n      border-color: #5cc4ef;\r\n    }\r\n  }\r\n\r\n  input[type='range']::-webkit-slider-thumb {\r\n    box-sizing: border-box;\r\n    height: 12px;\r\n    width: 12px;\r\n    border-radius: 3px;\r\n    border: 1px solid #dedede;\r\n    background: #fff;\r\n    cursor: pointer;\r\n    transition: background .2s;\r\n    margin-top: -6px;\r\n  }\r\n\r\n  input[type='range']::-ms-tooltip {\r\n    display: none;\r\n  }\r\n\r\n  input[type='range']::-moz-range-thumb {\r\n    box-sizing: border-box;\r\n    height: 12px;\r\n    width: 12px;\r\n    border-radius: 3px;\r\n    border: 1px solid #dedede;\r\n    background: #fff;\r\n    cursor: pointer;\r\n    transition: background .2s;\r\n  }\r\n\r\n  input[type='range']::-ms-thumb {\r\n    box-sizing: border-box;\r\n    height: 12px;\r\n    width: 12px;\r\n    border-radius: 3px;\r\n    border: 1px solid #dedede;\r\n    background: #fff;\r\n    cursor: pointer;\r\n    transition: background .2s;\r\n  }\r\n\r\n  input[type='range']::-webkit-slider-runnable-track {\r\n    border: none;\r\n    height: 1px;\r\n    cursor: pointer;\r\n    color: transparent;\r\n    background: transparent;\r\n  }\r\n\r\n  input[type='range']::-moz-range-track {\r\n    border: none;\r\n    height: 1px;\r\n    cursor: pointer;\r\n    color: transparent;\r\n    background: transparent;\r\n  }\r\n\r\n  input[type='range']::-ms-track {\r\n    border: none;\r\n    height: 1px;\r\n    cursor: pointer;\r\n    color: transparent;\r\n    background: transparent;\r\n  }\r\n\r\n  input[type='range']::-ms-fill-lower {\r\n    background: transparent;\r\n  }\r\n\r\n  input[type='range']::-ms-fill-upper {\r\n    background: transparent;\r\n  }\r\n\r\n  span {\r\n    padding: 0 12px;\r\n  }\r\n}\r\n\r\n.datepicker--time-icon {\r\n  color: #9c9c9c;\r\n  border: 1px solid;\r\n  border-radius: 50%;\r\n  font-size: 16px;\r\n  position: relative;\r\n  margin: 0 5px -1px 0;\r\n  width: 1em;\r\n  height: 1em;\r\n\r\n  &:after {\r\n    content: '';\r\n    background: currentColor;\r\n    position: absolute;\r\n    height: .4em;\r\n    width: 1px;\r\n    left: calc(50% - 1px);\r\n    top: calc(50% + 1px);\r\n    transform: translateY(-100%);\r\n  }\r\n\r\n  &:before {\r\n    width: .4em;\r\n    top: calc(50% + 1px);\r\n    content: '';\r\n    position: absolute;\r\n    background: currentColor;\r\n\r\n    height: 1px;\r\n    left: calc(50% - 1px);\r\n  }\r\n}\r\n\r\n.-disabled-.-focus- {\r\n  &.datepicker--cell-day.-other-month- {\r\n    color: #dedede;\r\n  }\r\n\r\n  &.datepicker--cell-year.-other-decade- {\r\n    color: #dedede;\r\n  }\r\n}\r\n\r\n.-top-left- .datepicker--pointer {\r\n  top: calc(100% - 4px);\r\n  left: 10px;\r\n  transform: rotate(135deg);\r\n}\r\n\r\n.-top-center- .datepicker--pointer {\r\n  top: calc(100% - 4px);\r\n  left: calc(50% - 10px / 2);\r\n  transform: rotate(135deg);\r\n}\r\n\r\n.-top-right- .datepicker--pointer {\r\n  top: calc(100% - 4px);\r\n  right: 10px;\r\n  transform: rotate(135deg);\r\n}\r\n\r\n.-right-top- .datepicker--pointer {\r\n  top: 10px;\r\n  right: calc(100% - 4px);\r\n  transform: rotate(225deg);\r\n}\r\n\r\n.-right-center- .datepicker--pointer {\r\n  top: calc(50% - 10px / 2);\r\n  right: calc(100% - 4px);\r\n  transform: rotate(225deg);\r\n}\r\n\r\n.-right-bottom- .datepicker--pointer {\r\n  bottom: 10px;\r\n  right: calc(100% - 4px);\r\n  transform: rotate(225deg);\r\n}\r\n\r\n.-bottom-left- .datepicker--pointer {\r\n  bottom: calc(100% - 4px);\r\n  left: 10px;\r\n  transform: rotate(315deg);\r\n}\r\n\r\n.-bottom-center- .datepicker--pointer {\r\n  bottom: calc(100% - 4px);\r\n  left: calc(50% - 10px / 2);\r\n  transform: rotate(315deg);\r\n}\r\n\r\n.-bottom-right- .datepicker--pointer {\r\n  right: 10px;\r\n  bottom: calc(100% - 4px);\r\n  transform: rotate(315deg);\r\n}\r\n\r\n.-left-top- .datepicker--pointer {\r\n  top: 10px;\r\n  left: calc(100% - 4px);\r\n  transform: rotate(45deg);\r\n}\r\n\r\n.-left-center- .datepicker--pointer {\r\n  top: calc(50% - 10px / 2);\r\n  left: calc(100% - 4px);\r\n  transform: rotate(45deg);\r\n}\r\n\r\n.-left-bottom- .datepicker--pointer {\r\n  left: calc(100% - 4px);\r\n  bottom: 10px;\r\n  transform: rotate(45deg);\r\n}\r\n\r\n\r\n// Datepicker icon\r\n.datepicker-icon {\r\n  position: absolute;\r\n  top: 6px;\r\n  right: 6px;\r\n  width: 44px;\r\n  height: 44px;\r\n  transition: all .2s ease-in-out;\r\n  border-radius: 2px;\r\n  background-color: var-color(\"neutral\", \"normal\");\r\n  color: var-color(\"neutral\", \"dark\");\r\n  font-size: 12px;\r\n  pointer-events: none;\r\n\r\n  &:before {\r\n    content: \"\\f073\";\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    font-family: FontAwesome;\r\n  }\r\n}\r\n\r\n[datepicker] {\r\n  padding-right: 52px;\r\n  cursor: default;\r\n}\r\n","import { faCalendarAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { Component, Element, Event, EventEmitter, Method, Prop, h } from '@stencil/core';\r\n\r\nimport { FormFieldBehavior, FormFieldComponent } from '../../../behaviors/form-behavior';\r\nimport { Bind } from '../../../utils/lang/bind';\r\nimport { CustomValidityState, ValidatorFn } from '../../../utils/validations/validations';\r\nimport { AcFaIcon } from '../../utils/ac-fa-icon';\r\nimport { LazyAirDatePicker } from './assets/lazy-air-date-picker';\r\n\r\n\r\n@Component({\r\n  tag: 'ac-date-picker',\r\n  styleUrl: 'ac-date-picker.scss',\r\n})\r\nexport class AirDatePicker implements FormFieldComponent {\r\n  private acInputBase: HTMLAcInputBaseElement;\r\n  private _picker: any;\r\n\r\n  @Element() host: HTMLAcDatePickerElement;\r\n\r\n  /**\r\n   * The FormFieldBehavior instance.\r\n   */\r\n  formFieldBehavior = new FormFieldBehavior(this);\r\n\r\n  @Prop() label = 'Date';\r\n  @Prop() classes = '';\r\n  @Prop() inline = false;\r\n  @Prop() language = 'en'; // We are shipping English as a default language not Russian\r\n  @Prop() startDate: Date = new Date();\r\n  @Prop() firstDay = '';\r\n  @Prop() weekends: number[] = [6, 0];\r\n  @Prop() dateFormat = '';\r\n  @Prop() altField = '';\r\n  @Prop() altFieldDateFormat = '@';\r\n  @Prop() toggleSelected = true;\r\n  @Prop() keyboardNav = true;\r\n  @Prop() position = 'bottom left';\r\n  @Prop() offset = 12;\r\n  @Prop() view = 'days';\r\n  @Prop() minView = 'days';\r\n  @Prop() showOtherMonths = true;\r\n  @Prop() selectOtherMonths = true;\r\n  @Prop() moveToOtherMonthsOnSelect = true;\r\n  @Prop() showOtherYears = true;\r\n  @Prop() selectOtherYears = true;\r\n  @Prop() moveToOtherYearsOnSelect = true;\r\n  @Prop() minDate = '';\r\n  @Prop() maxDate = '';\r\n  @Prop() disableNavWhenOutOfRange = true;\r\n  @Prop() multipleDates: boolean | number;\r\n  @Prop() multipleDatesSeparator = ', ';\r\n  @Prop() range = false;\r\n  @Prop() todayButton = false;\r\n  @Prop() clearButton = false;\r\n  @Prop() showEvent = 'focus';\r\n  @Prop() autoClose = false;\r\n  @Prop() monthsField = 'monthsShort';\r\n  @Prop() timepicker = false;\r\n  @Prop() onlyTimepicker = false;\r\n  @Prop() dateTimeSeparator = ' ';\r\n  @Prop() timeFormat = '';\r\n  @Prop() minHours = 0;\r\n  @Prop() maxHours = 24;\r\n  @Prop() minMinutes = 0;\r\n  @Prop() maxMinutes = 59;\r\n  @Prop() hoursStep = 1;\r\n  @Prop() minutesStep = 1;\r\n  @Prop({ reflect: true }) name: string;\r\n  @Prop({ reflect: true }) disabled: boolean;\r\n  @Prop({ reflect: true }) required: boolean;\r\n  @Prop({ mutable: true }) validity: CustomValidityState;\r\n  @Prop({ mutable: true }) validator: ValidatorFn | ValidatorFn[];\r\n  @Prop({ mutable: true }) value: Date | Date[];\r\n  @Prop({ mutable: true }) isShowing: boolean;\r\n  @Prop() formattedValue: string;\r\n\r\n  @Event() onSelect!: EventEmitter;\r\n  @Event() onShow!: EventEmitter;\r\n  @Event() onHide!: EventEmitter;\r\n  @Event() onChangeMonth!: EventEmitter;\r\n  @Event() onChangeYear!: EventEmitter;\r\n  @Event() onChangeDecade!: EventEmitter;\r\n  @Event() onChangeView!: EventEmitter;\r\n  @Event() onRenderCell!: EventEmitter;\r\n\r\n  componentDidLoad() {\r\n    this._picker = new LazyAirDatePicker(this.acInputBase, {\r\n      classes: this.classes,\r\n      inline: this.inline,\r\n      language: this.language,\r\n      startDate: this.startDate,\r\n      firstDay: this.firstDay,\r\n      weekends: this.weekends,\r\n      dateFormat: this.dateFormat,\r\n      altField: this.altField,\r\n      altFieldDateFormat: this.altFieldDateFormat,\r\n      toggleSelected: this.toggleSelected,\r\n      keyboardNav: this.keyboardNav,\r\n      position: this.position,\r\n      offset: this.offset,\r\n      view: this.view,\r\n      minView: this.minView,\r\n      showOtherMonths: this.showOtherMonths,\r\n      selectOtherMonths: this.selectOtherMonths,\r\n      moveToOtherMonthsOnSelect: this.moveToOtherMonthsOnSelect,\r\n      showOtherYears: this.showOtherYears,\r\n      selectOtherYears: this.selectOtherYears,\r\n      moveToOtherYearsOnSelect: this.moveToOtherYearsOnSelect,\r\n      minDate: this.minDate,\r\n      maxDate: this.maxDate,\r\n      disableNavWhenOutOfRange: this.disableNavWhenOutOfRange,\r\n      multipleDates: this.multipleDates,\r\n      multipleDatesSeparator: this.multipleDatesSeparator,\r\n      range: this.range,\r\n      todayButton: this.todayButton,\r\n      clearButton: this.clearButton,\r\n      showEvent: this.showEvent,\r\n      autoClose: this.autoClose,\r\n      monthsField: this.monthsField,\r\n      timepicker: this.timepicker,\r\n      onlyTimepicker: this.onlyTimepicker,\r\n      dateTimeSeparator: this.dateTimeSeparator,\r\n      timeFormat: this.timeFormat,\r\n      minHours: this.minHours,\r\n      maxHours: this.maxHours,\r\n      minMinutes: this.minMinutes,\r\n      maxMinutes: this.maxMinutes,\r\n      hoursStep: this.hoursStep,\r\n      minutesStep: this.minutesStep,\r\n      onSelect: this.handleSelect,\r\n      onShow: this.handleShow,\r\n      onHide: this.handleHide,\r\n      onChangeMonth: (month: number, year: number) => this.onChangeMonth.emit({ month, year }),\r\n      onChangeYear: (year: number) => this.onChangeYear.emit({ year }),\r\n      onChangeDecade: (decade: number) => this.onChangeDecade.emit({ decade }),\r\n      onChangeView: (view: string) => this.onChangeView.emit({ view }),\r\n      onRenderCell: (date: Date, cellType: string) => this.onRenderCell.emit({ date, cellType })\r\n    });\r\n  }\r\n\r\n  disconnectedCallback() {}\r\n\r\n  @Bind\r\n  async show() {\r\n    this._picker.show();\r\n    this.isShowing = true;\r\n  }\r\n\r\n  @Method()\r\n  @Bind\r\n  async hide() {\r\n    this._picker.hide();\r\n    this.isShowing = false;\r\n  }\r\n\r\n  @Method()\r\n  async destroy() {\r\n    this._picker.destroy();\r\n  }\r\n\r\n  @Method()\r\n  async next() {\r\n    this._picker.next();\r\n  }\r\n\r\n  @Method()\r\n  async prev() {\r\n    this._picker.prev();\r\n  }\r\n\r\n  @Method()\r\n  @Bind\r\n  async selectDate(date: Date) {\r\n    this._picker.selectDate(date);\r\n  }\r\n\r\n  @Method()\r\n  async removeDate(date: Date) {\r\n    this._picker.removeDate(date);\r\n  }\r\n\r\n  @Method()\r\n  async clear() {\r\n    this._picker.clear();\r\n  }\r\n\r\n  @Method()\r\n  async update(field: string, value: any) {\r\n    this._picker.show(field, value);\r\n  }\r\n\r\n  @Method()\r\n  async setView(view: string) {\r\n    this._picker.view = view;\r\n  }\r\n\r\n  @Method()\r\n  async setDate(date: Date) {\r\n    this._picker.date = date;\r\n  }\r\n\r\n  @Method()\r\n  async getElement(): Promise<HTMLElement> {\r\n    return this._picker.$el;\r\n  }\r\n\r\n  @Method()\r\n  async getSelectedDates(): Promise<Date[]> {\r\n    return this._picker.selectedDates;\r\n  }\r\n\r\n  @Method()\r\n  async getFormFieldBehavior() {\r\n    return this.formFieldBehavior;\r\n  }\r\n\r\n  @Bind\r\n  handleSelect(formattedDate: string, date: Date | Date[], inst: Object) {\r\n    this.onSelect.emit({ formattedDate, date, inst });\r\n    this.value = date;\r\n    this.formattedValue = formattedDate;\r\n  }\r\n\r\n  @Bind\r\n  handleShow(inst: Object, animationCompleted: boolean) {\r\n    this.onShow.emit({ inst, animationCompleted });\r\n    this.isShowing = true;\r\n  }\r\n\r\n  @Bind\r\n  handleHide(inst: Object, animationCompleted: boolean) {\r\n    this.onHide.emit({ inst, animationCompleted });\r\n    this.isShowing = false;\r\n  }\r\n\r\n  @Bind\r\n  toggleButton() {\r\n    if (!this.isShowing) {\r\n      this.show();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ac-input-base\r\n        label={this.label}\r\n        ref={acInputBase => this.acInputBase = acInputBase as HTMLAcInputBaseElement}\r\n        value={this.formattedValue}\r\n        name={this.name}\r\n        disabled={this.disabled}\r\n        required={this.required}\r\n      >\r\n        <ac-button\r\n          slot=\"item-end\"\r\n          theme={this.isShowing ? 'primary' : 'light'}\r\n          fill=\"flat\"\r\n          onClick={this.toggleButton}\r\n          icon-only\r\n        >\r\n          <AcFaIcon icon={faCalendarAlt} size={14} />\r\n        </ac-button>\r\n      </ac-input-base>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"}