{"version":3,"names":["acUploadCss","AcUpload","onHighLight","e","preventDefault","stopPropagation","this","focus","onDrop","disabled","nativeInput","files","dataTransfer","handleChange","onLeave","async","click","value","change","emit","render","h","Host","class","theme","undefined","onChange","name","type","ref","onClick","handleClick","slot","icon","faUpload","size","uploadButtonText","__decorate","Bind"],"sources":["./src/components/organisms/ac-upload/ac-upload.scss?tag=ac-upload","./src/components/organisms/ac-upload/ac-upload.tsx"],"sourcesContent":["@import \"../../../theme/variables\";\r\n\r\nac-upload {\r\n  display: block;\r\n  width: 100%;\r\n\r\n  .ac-upload--drop-area {\r\n    display: block;\r\n    height: 100%;\r\n    border: 2px dashed #E6E6E6;\r\n    border-radius: 4px;\r\n    background: #F5F5F5;\r\n\r\n    .ac-upload--wrapper {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      height: 100%;\r\n\r\n      .ac-upload--button {\r\n        padding: 16px 0px 16px;\r\n      }\r\n\r\n      .ac-upload--content {\r\n        width: 100%;\r\n        padding: 0px 16px 0px;\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n\r\n  .ac-upload--native-input {\r\n    display: none;\r\n  }\r\n\r\n\r\n}\r\n\r\nac-upload.ac-upload--focus {\r\n  .ac-upload--drop-area {\r\n    transition: border-color ease-in-out .2s,\r\n    background ease-in-out .2s;\r\n    border-color: var-color(\"primary\", \"normal\");\r\n    background: var-color(\"primary\", \"normal\", 0.1);\r\n  }\r\n}\r\n\r\nac-upload.ac-upload--disabled.ac-upload--focus {\r\n\r\n  .ac-upload--drop-area {\r\n    border-color: var-color(\"alert\", \"normal\");\r\n    cursor: not-allowed;\r\n  }\r\n}\r\n\r\nac-upload.ac-upload--disabled {\r\n  .ac-upload--drop-area {\r\n    cursor: not-allowed;\r\n    pointer-events: none;\r\n  }\r\n}\r\n\r\n\r\n","import { faUpload } from '@fortawesome/free-solid-svg-icons';\r\nimport { Component, Event, EventEmitter, Host, Listen, Method, Prop, State, h } from '@stencil/core';\r\n\r\nimport { Bind } from '../../../utils/lang/bind';\r\n\r\n@Component({\r\n  tag: 'ac-upload',\r\n  styleUrl: 'ac-upload.scss',\r\n})\r\n\r\nexport class AcUpload {\r\n  private nativeInput: HTMLInputElement;\r\n\r\n  /**\r\n   * The theme color defined in the color palette. The default is primary.\r\n   */\r\n  @Prop({ reflect: true }) theme = 'primary';\r\n  /**\r\n   * The name to native input.\r\n   */\r\n  @Prop() name: string;\r\n  /**\r\n   * Text introduced in Button upload.\r\n   */\r\n  @Prop() uploadButtonText: string;\r\n\r\n  @Prop({ mutable: true }) value: FileList;\r\n  /**\r\n   *  Disabled upload files.\r\n   */\r\n  @Prop({ mutable: true }) disabled = false;\r\n  /**\r\n   * State of focus, to control entries and exits of dragged files.\r\n   */\r\n  @State() focus: boolean;\r\n\r\n  /**\r\n   * Event when a file is dropped.\r\n   */\r\n  @Event({ eventName: 'uploadFile' }) change: EventEmitter<FileList>;\r\n\r\n  @Listen('dragover', { passive: false })\r\n  onHighLight(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.focus = true;\r\n  }\r\n\r\n  @Listen('drop', { passive: false })\r\n  onDrop(e: DragEvent) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (!this.disabled) {\r\n      this.nativeInput.files = e.dataTransfer.files;\r\n      this.handleChange();\r\n    }\r\n    this.focus = false;\r\n  }\r\n\r\n  @Listen('dragleave')\r\n  onLeave() {\r\n    this.focus = false;\r\n  }\r\n\r\n  @Bind\r\n  @Method()\r\n  async handleClick() {\r\n    this.nativeInput.click();\r\n  }\r\n\r\n  @Method()\r\n  async removeFiles() {\r\n    this.nativeInput.value = '';\r\n  }\r\n\r\n  @Bind\r\n  async handleChange() {\r\n    this.value = this.nativeInput.files;\r\n    this.change.emit(this.nativeInput.files);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        class={{\r\n          [`ac-upload--${this.theme}`]: this.theme !== undefined,\r\n          'ac-upload--focus': this.focus,\r\n          'ac-upload--disabled': this.disabled\r\n        }}\r\n      >\r\n        <label\r\n          class=\"ac-upload--drop-area\"\r\n        >\r\n          <input\r\n            onChange={this.handleChange}\r\n            name={this.name}\r\n            class=\"ac-upload--native-input\"\r\n            type=\"file\"\r\n            ref={nativeInput => this.nativeInput = nativeInput}\r\n          />\r\n          <div class=\"ac-upload--wrapper\">\r\n            <div class=\"ac-upload--content\">\r\n              <slot name=\"content\"/>\r\n            </div>\r\n            <ac-button class=\"ac-upload--button\" theme={this.theme} disabled={this.disabled} onClick={this.handleClick}>\r\n              <ac-fa-icon slot=\"icon-start\" icon={faUpload} size={14}/>\r\n              {this.uploadButtonText}\r\n            </ac-button>\r\n          </div>\r\n        </label>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"iIAAA,MAAMA,EAAc,igC,iXCUPC,EAAQ,M,uEAMc,U,uFAcG,M,qBAYpCC,YAAYC,GACVA,EAAEC,iBACFD,EAAEE,kBACFC,KAAKC,MAAQ,I,CAIfC,OAAOL,GACLA,EAAEC,iBACFD,EAAEE,kBACF,IAAKC,KAAKG,SAAU,CAClBH,KAAKI,YAAYC,MAAQR,EAAES,aAAaD,MACxCL,KAAKO,c,CAEPP,KAAKC,MAAQ,K,CAIfO,UACER,KAAKC,MAAQ,K,CAKTQ,oBACJT,KAAKI,YAAYM,O,CAInBD,oBACET,KAAKI,YAAYO,MAAQ,E,CAIrBF,qBACJT,KAAKW,MAAQX,KAAKI,YAAYC,MAC9BL,KAAKY,OAAOC,KAAKb,KAAKI,YAAYC,M,CAGpCS,SACE,OACEC,EAACC,EAAI,CACHC,MAAO,CACL,CAAC,cAAcjB,KAAKkB,SAAUlB,KAAKkB,QAAUC,UAC7C,mBAAoBnB,KAAKC,MACzB,sBAAuBD,KAAKG,WAG9BY,EAAA,SACEE,MAAM,wBAENF,EAAA,SACEK,SAAUpB,KAAKO,aACfc,KAAMrB,KAAKqB,KACXJ,MAAM,0BACNK,KAAK,OACLC,IAAKnB,GAAeJ,KAAKI,YAAcA,IAEzCW,EAAA,OAAKE,MAAM,sBACTF,EAAA,OAAKE,MAAM,sBACTF,EAAA,QAAMM,KAAK,aAEbN,EAAA,aAAWE,MAAM,oBAAoBC,MAAOlB,KAAKkB,MAAOf,SAAUH,KAAKG,SAAUqB,QAASxB,KAAKyB,aAC7FV,EAAA,cAAYW,KAAK,aAAaC,KAAMC,EAAUC,KAAM,KACnD7B,KAAK8B,oB,GAxCZC,EAAA,CAFLC,G,gCAYKD,EAAA,CADLC,G"}