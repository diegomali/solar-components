import{r as t,h as i,g as e}from"./p-bfc2338d.js";import{d as n,e as s}from"./p-8fff0704.js";import{c as r,a}from"./p-112455b1.js";import{F as h}from"./p-09dd3509.js";import{B as o}from"./p-05671e06.js";import{A as u}from"./p-d7dbca0e.js";import"./p-fe5b2c7a.js";import"./p-bfa157e3.js";var f=r((function(t,i){(function(i,e){{t.exports=e()}})(a,(function(){var t="9",i="A",e="S",n=[9,16,17,18,36,37,38,39,40,91,92,93],s=function(t){for(var i=0,e=n.length;i<e;i++){if(t==n[i]){return false}}return true},r=function(t){t=t||{};t={delimiter:t.delimiter||".",lastOutput:t.lastOutput,precision:t.hasOwnProperty("precision")?t.precision:2,separator:t.separator||",",showSignal:t.showSignal,suffixUnit:t.suffixUnit&&" "+t.suffixUnit.replace(/[\s]/g,"")||"",unit:t.unit&&t.unit.replace(/[\s]/g,"")+" "||"",zeroCents:t.zeroCents};t.moneyPrecision=t.zeroCents?0:t.precision;return t},a=function(n,s,r){for(;s<n.length;s++){if(n[s]===t||n[s]===i||n[s]===e){n[s]=r}}return n};var h=function(t){this.elements=t};h.prototype.unbindElementToMask=function(){for(var t=0,i=this.elements.length;t<i;t++){this.elements[t].lastOutput="";this.elements[t].onkeyup=false;this.elements[t].onkeydown=false;if(this.elements[t].value.length){this.elements[t].value=this.elements[t].value.replace(/\D/g,"")}}};h.prototype.bindElementToMask=function(t){var i=this,e=function(e){e=e||window.event;var n=e.target||e.srcElement;if(s(e.keyCode)){setTimeout((function(){i.opts.lastOutput=n.lastOutput;n.value=o[t](n.value,i.opts);n.lastOutput=n.value;if(n.setSelectionRange&&i.opts.suffixUnit){n.setSelectionRange(n.value.length,n.value.length-i.opts.suffixUnit.length)}}),0)}};for(var n=0,r=this.elements.length;n<r;n++){this.elements[n].lastOutput="";this.elements[n].onkeyup=e;if(this.elements[n].value.length){this.elements[n].value=o[t](this.elements[n].value,this.opts)}}};h.prototype.maskMoney=function(t){this.opts=r(t);this.bindElementToMask("toMoney")};h.prototype.maskNumber=function(){this.opts={};this.bindElementToMask("toNumber")};h.prototype.maskAlphaNum=function(){this.opts={};this.bindElementToMask("toAlphaNumeric")};h.prototype.maskPattern=function(t){this.opts={pattern:t};this.bindElementToMask("toPattern")};h.prototype.unMask=function(){this.unbindElementToMask()};var o=function(t){if(!t){throw new Error("VanillaMasker: There is no element to bind.")}var i="length"in t?t.length?t:[]:[t];return new h(i)};o.toMoney=function(t,i){i=r(i);if(i.zeroCents){i.lastOutput=i.lastOutput||"";var e="("+i.separator+"[0]{0,"+i.precision+"})",n=new RegExp(e,"g"),s=t.toString().replace(/[\D]/g,"").length||0,a=i.lastOutput.toString().replace(/[\D]/g,"").length||0;t=t.toString().replace(n,"");if(s<a){t=t.slice(0,t.length-1)}}var h=t.toString().replace(/[\D]/g,""),o=new RegExp("^(0|\\"+i.delimiter+")"),u=new RegExp("(\\"+i.separator+")$"),f=h.substr(0,h.length-i.moneyPrecision),d=f.substr(0,f.length%3),l=new Array(i.precision+1).join("0");f=f.substr(f.length%3,f.length);for(var c=0,p=f.length;c<p;c++){if(c%3===0){d+=i.delimiter}d+=f[c]}d=d.replace(o,"");d=d.length?d:"0";var m="";if(i.showSignal===true){m=t<0||t.startsWith&&t.startsWith("-")?"-":""}if(!i.zeroCents){var g=h.length-i.precision,v=h.substr(g,i.precision),b=v.length,y=i.precision>b?i.precision:b;l=(l+v).slice(-y)}var w=i.unit+m+d+i.separator+l;return w.replace(u,"")+i.suffixUnit};o.toPattern=function(n,s){var r=typeof s==="object"?s.pattern:s,h=r.replace(/\W/g,""),o=r.split(""),u=n.toString().replace(/\W/g,""),f=u.replace(/\W/g,""),d=0,l,c=o.length,p=typeof s==="object"?s.placeholder:undefined;for(l=0;l<c;l++){if(d>=u.length){if(h.length==f.length){return o.join("")}else if(p!==undefined&&h.length>f.length){return a(o,l,p).join("")}else{break}}else{if(o[l]===t&&u[d].match(/[0-9]/)||o[l]===i&&u[d].match(/[a-zA-Z]/)||o[l]===e&&u[d].match(/[0-9a-zA-Z]/)){o[l]=u[d++]}else if(o[l]===t||o[l]===i||o[l]===e){if(p!==undefined){return a(o,l,p).join("")}else{return o.slice(0,l).join("")}}}}return o.join("").substr(0,l)};o.toNumber=function(t){return t.toString().replace(/(?!^-)[^0-9]/g,"")};o.toAlphaNumeric=function(t){return t.toString().replace(/[^a-z0-9 ]+/i,"")};return o}))}));const d="ac-input{display:flex;flex-direction:column}ac-input .ac-input__helper-text{display:block;margin-top:8px;color:var(--color-neutral-dark, #A0A0A0);font-size:12px}ac-input.form-field--invalid .ac-input__helper-text{color:var(--color-alert-normal, #F0000A)}";var l=undefined&&undefined.__decorate||function(t,i,e,n){var s=arguments.length,r=s<3?i:n===null?n=Object.getOwnPropertyDescriptor(i,e):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(t,i,e,n);else for(var h=t.length-1;h>=0;h--)if(a=t[h])r=(s<3?a(r):s>3?a(i,e,r):a(i,e))||r;return s>3&&r&&Object.defineProperty(i,e,r),r};const c=class{constructor(i){t(this,i);this.formFieldBehavior=new h(this);this.label=undefined;this.type=undefined;this.helperText=undefined;this.validateOnKeyup=undefined;this.value=undefined;this.error=undefined;this.validity=undefined;this.validator=undefined;this.mask=undefined;this.name=undefined;this.disabled=undefined;this.required=undefined;this.pattern=undefined;this.max=undefined;this.maxlength=undefined;this.min=undefined;this.minlength=undefined;this.autofocus=undefined;this.autocomplete=undefined;this.autocapitalize=undefined;this.placeholder=undefined;this.step=undefined;this.isShowingPassword=undefined}errorDidUpdate(t){if(t){if(t==="true"){this.error=true}this.acInputBase.error=true;this.formFieldBehavior.setInvalid()}else{this.acInputBase.error=false;this.formFieldBehavior.setValid()}}valueDidUpdate(){if(this.value&&this.mask){this.value=f.toPattern(this.value,this.mask)}}async maskDidUpdate(){if(this.value){this.value=this.mask?f.toPattern(this.value,this.mask):await this.getRawValue(this.type)}}async handleKeyup(){if(this.validateOnKeyup){this.formFieldBehavior.checkValidity((await this.getNativeFormField()).value)}}async setValue(t){this.value=t;this.formFieldBehavior.setDirty();this.formFieldBehavior.checkValidity()}async getRawValue(t="text"){const i=(await this.acInputBase.getNativeInput()).value||this.value;if(!i){return null}if(t==="text"){return i.toString().replace(/[^a-z0-9 ]+/gi,"")}else{return f.toNumber(i)}}async setFocus(){return this.acInputBase.setFocus()}async getNativeFormField(){return this.acInputBase.getNativeInput()}async getFormFieldBehavior(){return this.formFieldBehavior}async componentDidLoad(){this.errorDidUpdate(this.error);if(this.mask){f(await this.acInputBase.getNativeInput()).maskPattern(this.mask);if(this.value){this.value=f.toPattern(this.value,this.mask)}}}disconnectedCallback(){}togglePassword(){this.isShowingPassword=!this.isShowingPassword}handleChange(){this.value=this.acInputBase.value;this.formFieldBehavior.setDirty();this.formFieldBehavior.checkValidity()}handleBlur(){this.formFieldBehavior.setTouched()}render(){const t=this.isShowingPassword?n:s;return[i("ac-input-base",{ref:t=>{this.acInputBase=t},label:this.label,name:this.name,type:this.isShowingPassword?"text":this.type,pattern:this.pattern,value:this.value,disabled:this.disabled,required:this.required,max:this.max,min:this.min,maxlength:this.maxlength,minlength:this.minlength,step:this.step,autofocus:this.autofocus,autocomplete:this.autocomplete,autocapitalize:this.autocapitalize,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.placeholder},i("slot",{name:"item-start",slot:"item-start"}),i("slot",{name:"input-label",slot:"input-label"}),this.type==="password"?i("ac-button",{slot:"item-end",onClick:this.togglePassword,"icon-only":true,fill:"flat"},i(u,{icon:t,size:14})):i("slot",{name:"item-end",slot:"item-end"})),this.error&&typeof this.error==="string"||this.helperText&&typeof this.helperText==="string"?i("span",{class:"ac-input__helper-text"},this.error||this.helperText):null]}get host(){return e(this)}static get watchers(){return{error:["errorDidUpdate"],value:["valueDidUpdate"],mask:["maskDidUpdate"]}}};l([o],c.prototype,"togglePassword",null);l([o],c.prototype,"handleChange",null);l([o],c.prototype,"handleBlur",null);c.style=d;export{c as ac_input};
//# sourceMappingURL=p-13db190d.entry.js.map